{"mappings":"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","sources":["src/index.js","src/js/modal-card.js","src/js/templates/markupModal.hbs","src/js/modal-card-btn.js","src/js/trailer.js","src/js/scroll-top.js","src/js/filter.js"],"sourcesContent":["import './js/home-page';\nimport './js/modal-card';\nimport  './js/pagin';\n//update progect\nimport './js/theme-switcher';\nimport './js/modal-students';\nimport './js/trailer';\nimport './js/scroll-top';\nimport './js/filter';\n\n","import { apiModalDetails, apiMovieDetails } from './themovieApi';\nimport markupModal from '../js/templates/markupModal.hbs';\nimport { refs } from './refs';\n// import addWatched from './my-library';\nimport { addWatchedBtn, addQueueBtn } from './modal-card-btn';\n\nconst STORAGE_KEY_WATCHED = 'watched';\nconst STORAGE_KEY_QUEUE = 'queue';\n\nrefs.homeGallery.addEventListener('click', clickOnMovie);\n\n// variable for localstorage\nlet response;\nlet iD = [];\n// -------------------------\n// Click Handler Function\nasync function clickOnMovie(evt) {\n  evt.preventDefault();\n\n  if (evt.target.nodeName !== 'IMG' && evt.target.nodeName !== 'H2') {\n    return;\n  }\n\n  // console.log(evt.target.dataset.id);\n  const movieId = evt.target.dataset.id;\n  apiModalDetails(movieId).then(resp => {\n    // refrash variable for localstorage\n    response = resp;\n    //--------------------------\n    // console.log(resp);\n    refs.filmBox.innerHTML = markupModal(resp);\n    onOpenModal();\n    iD.push(movieId);\n  });\n}\n\nfunction onOpenModal() {\n  const closeModalBtn = document.querySelector('.modal__button-close');\n  const rotateModal = document.querySelector('.modal__button-rotate');\n  const unRotateModal = document.querySelector('.modal__button-backtoinfo');\n  rotateModal.addEventListener('click', onRotateModal);\n  rotateModal.addEventListener('click', watchTrailer);\n  unRotateModal.addEventListener('click', onUnRotateModal);\n  document.body.addEventListener('keydown', onEscButton);\n  document.body.addEventListener('click', handleClick);\n  closeModalBtn.addEventListener('click', onCloseModal);\n  document.body.classList.add('modal-open');\n  refs.filmBox.classList.remove('visually-hidden');\n}\n\nfunction onUnRotateModal() {\n  const modal = document.querySelector('.modal');\n  const modalBackSide = document.querySelector('.modal__backside');\n\n  modal.classList.remove('rotated');\n  modalBackSide.classList.remove('rotated360');\n}\n\nfunction onRotateModal() {\n  const modal = document.querySelector('.modal');\n  const modalBackSide = document.querySelector('.modal__backside');\n  modal.classList.add('rotated');\n  modalBackSide.classList.add('rotated360');\n  const iframe = document.querySelector('iframe');\n  iframe.remove();\n}\n\nfunction onCloseModal() {\n  const closeModalBtn = document.querySelector('.modal__button-close');\n  const rotateModal = document.querySelector('.modal__button-rotate');\n  const unRotateModal = document.querySelector('.modal__button-backtoinfo');\n  document.body.classList.remove('modal-open');\n  refs.filmBox.classList.add('visually-hidden');\n  rotateModal.removeEventListener('click', onRotateModal);\n  rotateModal.removeEventListener('click', watchTrailer);\n  unRotateModal.removeEventListener('click', onUnRotateModal);\n  document.body.removeEventListener('keydown', onEscButton);\n  document.body.removeEventListener('click', handleClick);\n  closeModalBtn.removeEventListener('click', onCloseModal);\n  iD = [];\n}\n\nfunction onEscButton(evt) {\n  if (evt.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction handleClick(event) {\n  // console.log(response);\n  if (event.target.className === 'modal__button--watched') {\n    addWatchedBtn(STORAGE_KEY_WATCHED, response);\n    onCloseModal();\n  }\n  if (event.target.className === 'modal__button--queue') {\n    addQueueBtn(STORAGE_KEY_QUEUE, response);\n    onCloseModal();\n  }\n  // console.log(event.target);\n  // console.log('currentTarget: ', event.currentTarget);\n  if (event.target === refs.filmBox) {\n    onCloseModal();\n  }\n}\n\nfunction watchTrailer() {\n  apiMovieDetails(iD).then(resp => {\n    createPlayer(resp);\n  });\n}\n\nfunction createPlayer(videoKey) {\n  const modalBackSide = document.querySelector('.modal__backside');\n  const player = `<iframe class=\"youtube-player\"\n  width=\"100%\"\n  height=\"100%\"\n  src=\"https://www.youtube.com/embed/${videoKey}\"\n  title=\"YouTube video player\"\n  frameborder=\"0\"\n  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n  allowfullscreen\n  ></iframe>`;\n  modalBackSide.insertAdjacentHTML('beforeend', player);\n}\n","<div class='modal background-modal'>\n  <div class='modal__img'><button\n      type='button'\n      class='modal__button-rotate'\n    ><svg\n        width='30'\n        height='30'\n        version='1.1'\n        id='Layer_1'\n        xmlns='http://www.w3.org/2000/svg'\n        xmlns:xlink='http://www.w3.org/1999/xlink'\n        x='0px'\n        y='0px'\n        viewBox='0 0 461.001 461.001'\n        style='enable-background:new 0 0 461.001 461.001;'\n        xml:space='preserve'\n      >\n        <g>\n          <path\n            style='fill:#F61C0D;'\n            d='M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728\n\t\tc0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137\n\t\tC461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607\n\t\tc0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z'\n          ></path>\n        </g>\n      </svg>\n      Watch trailer</button><img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500{{poster_path}}'\n      alt={{original_title}}\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title dark-theme-text'>{{original_title}}</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item dark-theme-text'><span\n            class='modal__list-vote dark-theme-text'\n          >{{vote_average}}</span>\n          /\n          <span class='modal__list-value-item dark-theme-text'>{{vote_count}}</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item dark-theme-text'>{{popularity}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item dark-theme-text'>{{original_title}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item dark-theme-text'>{{#each genres}}{{this.name}}\n          {{/each}}</li>\n      </ul>\n    </div>\n    <p class='modal__about dark-theme-text'>ABOUT</p>\n    <p class='modal__about-text dark-theme-text'>{{overview}}</p>\n    <div class='modal__buttons'>\n      <button class='modal__button--watched' type='submit'>ADD TO WATCHED</button>\n      <button class='modal__button--queue' type='submit'>ADD TO QUEUE</button></div>\n  </div>\n  <button type='button' class='modal__button-close'>\n      <svg class='modal-close__svg' width='30' height='30' viewBox='0 0 30 30'>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 8L22 22' stroke='black' stroke-width='2'></path>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 22L22 8' stroke='black' stroke-width='2'></path>\n    </svg>\n  </button>\n</div>\n\n<div class='modal__backside'>\n  <button type='button' class='modal__button-backtoinfo'>Back to movie info\n    <svg\n      width='20'\n      height='20'\n      version='1.1'\n      id='Layer_1'\n      xmlns='http://www.w3.org/2000/svg'\n      xmlns:xlink='http://www.w3.org/1999/xlink'\n      x='0px'\n      y='0px'\n      viewBox='0 0 499.2 499.2'\n      style='enable-background:new 0 0 499.2 499.2;'\n      xml:space='preserve'\n    >\n      <path\n        style='fill:#4F0404;'\n        d='M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z'\n      ></path>\n      <path\n        style='fill:#C42014;'\n        d='M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z'\n      ></path>\n      <polygon\n        style='fill:#EA2D28;'\n        points='123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 '\n      ></polygon>\n      <polyline\n        style='fill:#C42014;'\n        points='1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 '\n      ></polyline>\n    </svg>\n  </button>\n</div>","import { Notify } from 'notiflix';\nimport { localStorageAPI } from './api/localStorageAPI';\n\nlet storageWatched = [];\nlet storageQueue = [];\n\nexport function addWatchedBtn(key, obj) {\n  // console.dir(obj.id);\n  let arrWatched = localStorage.getItem(key);\n  if (storageWatched.includes(obj)) {\n    Notify.failure('we have alredy added that movie');\n    return;\n  } else if (arrWatched === null) {\n    storageWatched.push(obj);\n    // console.dir(storageWatched[0].id);\n    localStorageAPI.save(key, storageWatched);\n  } else {\n    storageWatched = JSON.parse(arrWatched);\n    // console.log(storageWatched);\n    storageWatched.push(obj);\n    localStorageAPI.save(key, storageWatched);\n  }\n}\n\nexport function addQueueBtn(key, obj) {\n  let arrQueue = localStorage.getItem(key);\n  // console.log(arrQueue);\n  if (storageQueue.includes(obj)) {\n    Notify.failure('we have alredy added that movie');\n    return;\n  } else if (arrQueue === null) {\n    // console.dir(arrQueue);\n    storageQueue.push(obj);\n    // console.log(storageQueue);\n    localStorageAPI.save(key, storageQueue);\n  } else {\n    storageQueue = JSON.parse(arrQueue);\n    // console.log(storageQueue);\n    storageQueue.push(obj);\n    localStorageAPI.save(key, storageQueue);\n  }\n}\n","import { apiMovieDetails } from './themovieApi';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/src/styles/main.scss';\n\ndocument.addEventListener('click', watchTrailer);\n\nfunction watchTrailer(event) {\n  const target = event.target;\n\n  if (\n    target.classList.contains('button__trailer') ||\n    target.classList.contains('modal__button--trailer')\n  ) {\n    const movieID = target.dataset.id;\n    console.log('movieID :>> ', movieID);\n    apiMovieDetails(movieID).then(resp => {\n      createPlayer(resp);\n    });\n  }\n}\n\nfunction createPlayer(videoKey) {\n  const instance = basicLightbox.create(`\n    <iframe src='https://www.youtube.com/embed/${videoKey}' width=\"640\" height=\"480\" frameborder=\"0\" allowfullscreen origin></iframe>\n`);\n\n  instance.show();\n}\n","// import debounce from 'debounce';\n\n\nconst upScroll ={ el:document.querySelector('#scrollup'),\n  show(){this.el.classList.remove('visually-hidden-scroll');\n},\nhide(){\n  this.el.classList.add('visually-hidden-scroll');\n},\naddEventListener(){\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    scrollY > 500 ? this.show() : this.hide();\n  });\n  document.querySelector('#scrollup').onclick = () =>{\n    window.scrollTo({\n      top:0,\n      left:0,\n      behavior: 'smooth'\n    });\n  }\n}\n}\n upScroll.addEventListener();\n\n\n// const rootElement = document.documentElement;\n\n// function scrollToTop() {\n//     // Scroll to top logic\n//     rootElement.scrollTo({\n//       top: 0,\n//       behavior: \"smooth\"\n//     });\n//   }\n//   upScroll.addEventListener(\"click\", scrollToTop);\n\n\n// scrollWindow = () => {\n//     // window.addEventListener('DOMContentLoaded', () => {\n//     //\n//     //   this.refs.upScroll.classList.add('visually-hidden');\n//     // });\n//     this.upScroll.addEventListener('click', () => {\n//       window.scrollTo({\n//         top: 0,\n//         behavior: 'smooth',\n//       });\n//     });\n\n//     window.addEventListener(\n//       'scroll',\n//       debounce(() => {\n//         scrollY > 200\n//           ? this.refs.upScroll.classList.remove('visually-hidden-scroll')\n//           : this.refs.upScroll.classList.add('visually-hidden-scroll');\n//       }, 250),\n//     );\n//   };\n","import axios from 'axios';\nimport {\n  API_KEY,\n  BASE_URL,\n  TREND_URL,\n  SEARCH_URL,\n  ID_URL,\n} from './api/api-parts';\nimport { refs } from './refs';\nimport { localStorageAPI } from './api/localStorageAPI';\nimport markupSearchPage from '../js/templates/markupHomePage.hbs';\n\n\nconst genreForm = document.querySelector('#genreForm');\nconst filterForm = document.querySelector('#filter-form');\nconst yearForm = document.querySelector('#yearForm');\nconst btnReset = document.querySelector('#btnResetFilter');\nconst spinner = document.querySelector('.preloader');\nconst sortForm = document.querySelector('#sortForm');\n\nif (genreForm) {\n    genreForm.addEventListener('input', eventGenre);\n};\n\nif (yearForm) {\n    yearForm.addEventListener('input', eventYear);\n};\nif (sortForm) {\n    sortForm.addEventListener('input', eventSort);\n};\n\nif (btnReset) {\n    btnReset.addEventListener('click', submitResetFilter);\n};\n\n    function moviesDataUpdate(data) {\n    localStorage.setItem('moviesData', JSON.stringify(data.results));\n}\n\nconst getSearchForm = async (page = '', query = '', genre = '', year = '', sort = '') => {\n    let filters = {\n    year: year !== '' && year !== 'start' ? `&primary_release_year=${year}` : '',\n    genre: genre !== '' && genre !== 'start' ? `&with_genres=${genre}` : '',\n    queryFetch: `&query=${query}`,\n    sort: sort !== '' && sort !== 'start' ? `&sort_by=${sort}` : '',\n    discover: `/trending`,\n    week: `/week`,\n    };\n    if (query === '') {\n    filters.queryFetch = '';\n    }\n    if (query !== '' && genre === '') {\n    filters.discover = '/search';\n    filters.week = '';\n    }\n    if (query === '' && genre !== '') {\n    filters.discover = '/discover';\n    filters.week = '';\n    }\n    if (query === '' && year !== '') {\n    filters.discover = '/discover';\n    filters.week = '';\n    }\n    \n        let { data } = await axios.get(\n          `${BASE_URL}${filters.discover}/movie${filters.week}?api_key=${API_KEY}${filters.genre}${filters.year}${filters.sort}&language=en-US${filters.queryFetch}&page=${page}`\n        );\n        localStorageAPI.save('moviesData', data.results);\n\n        return data;\n};\n    \nfunction eventGenre(evn) {\n  if (evn) {\n    spinner.classList.remove('done');\n    genre = evn.target.value;\n    page = 1;\n    // query = '';\n    // year = '';\n    // sort = '';\n    localStorageAPI.save('page-pg', page);\n    localStorageAPI.save('genre-pg', genre);\n    getSearchForm(page, genre).then(data => {\n    refs.homeGallery.innerHTML = markupSearchPage(data);\n        if (data.total_pages > 500) {\n            amountOfPages = 500;\n        } else {\n            amountOfPages = data.total_pages;\n        }\n        localStorageAPI.save('total-pages', amountOfPages);\n        spinner.classList.add('done');\n    });\n    }\n}\n\nfunction eventYear(evn) {\n    if (evn) {\n        spinner.classList.remove('done');\n        page = 1;\n        query = '';\n        localStorageAPI.save('page-pg', page);\n        year = evn.target.value;\n        localStorageAPI.save('year-pg', year);\n        getSearchForm(page,year).then(data => {\n            refs.homeGallery.innerHTML = markupSearchPage(data);\n            if (data.total_pages > 500) {\n                amountOfPages = 500;\n            } else {\n                amountOfPages = data.total_pages;\n            }\n            spinner.classList.add('done');\n            if (query == '') {\n                localStorageAPI.save('total-pages', amountOfPages);\n            }\n        });\n    }\n}\n\nfunction eventSort(evn) {\n    if (evn) {\n        spinner.classList.remove('done');\n        page = 1;\n        query = '';\n        year = '';\n        genre = '';\n        localStorageAPI.save('page-pg', page);\n        sort = evn.target.value;\n        localStorageAPI.save('sort-pg', sort);\n        getSearchForm(page,sort).then(data => {\n            refs.homeGallery.innerHTML = markupSearchPage(data);\n            if (data.total_pages > 500) {\n                amountOfPages = 500;\n            } else {\n                amountOfPages = data.total_pages;\n            }\n                \n                localStorageAPI.save('total-pages', amountOfPages);\n                spinner.classList.add('done');\n        });\n    }\n}\n\n\nfunction submitResetFilter(evn) {\n    spinner.classList.remove('done');\n    evn.preventDefault();\n    filterForm[0].options.selectedIndex = 0;\n    filterForm[1].options.selectedIndex = 0;\n    filterForm[2].options.selectedIndex = 0;\n    genre = '';\n    year = '';\n    sort = '';\n    page = 1;\n    if (query === '') {\n      amountOfPages = 1000;\n    } else {\n      amountOfPages = localStorageAPI.load('total-pages');\n    }\n    localStorageAPI.save('genre-pg', genre);\n    localStorageAPI.save('year-pg', year);\n    localStorageAPI.save('sort-pg', sort);\n    localStorageAPI.save('page-pg', page);\n    localStorageAPI.save('total-pages', amountOfPages);\n    getSearchForm(page, query, genre, year, sort).then(data => {\n        refs.homeGallery.innerHTML = markupSearchPage(data);\n        moviesDataUpdate(data);\n        localStorageAPI.save('total-pages', amountOfPages);\n        spinner.classList.add('done');\n    });\n    localStorageAPI.save('page-pg', page);\n}\n\n\n// commit"],"names":["parcelRequire","$bpxeT","$l5bVx","$0bc812befb815709$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","compiler","main","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","name","hash","loc","start","line","column","end","fn","program","inverse","noop","useData","$iU1Pc","$0cd6e6abd2f83c13$var$storageWatched","$0cd6e6abd2f83c13$var$storageQueue","$0cd6e6abd2f83c13$export$90342974b38de9f","key","obj","arrQueue","localStorage","getItem","includes","Notify","failure","push","$cWPZ2","localStorageAPI","save","JSON","parse","$f89d086d5b1fa174$var$response","$4Nugj","refs","homeGallery","addEventListener","evt","$f89d086d5b1fa174$var$_clickOnMovie","apply","this","arguments","$f89d086d5b1fa174$var$iD","$2TvXO","mark","_callee","movieId","preventDefault","target","nodeName","dataset","id","$gsGse","apiModalDetails","then","resp","filmBox","innerHTML","$f89d086d5b1fa174$var$onOpenModal","closeModalBtn","document","querySelector","rotateModal","unRotateModal","$f89d086d5b1fa174$var$onRotateModal","$f89d086d5b1fa174$var$watchTrailer","$f89d086d5b1fa174$var$onUnRotateModal","body","$f89d086d5b1fa174$var$onEscButton","$f89d086d5b1fa174$var$handleClick","$f89d086d5b1fa174$var$onCloseModal","classList","add","remove","modal","modalBackSide","removeEventListener","code","event","arrWatched","className","apiMovieDetails","videoKey","player","concat","insertAdjacentHTML","contains","movieID","console","log","$dyT35","create","show","el","hide","window","scrollY","documentElement","scrollTop","_this","onclick","scrollTo","top","left","behavior","$6142fea1849c7fbd$var$genreForm","$6142fea1849c7fbd$var$filterForm","$6142fea1849c7fbd$var$yearForm","$6142fea1849c7fbd$var$btnReset","$6142fea1849c7fbd$var$spinner","$6142fea1849c7fbd$var$sortForm","evn","genre","value","page","$6142fea1849c7fbd$var$getSearchForm","$5jGKf","default","total_pages","amountOfPages","query","year","sort","options","selectedIndex","load","setItem","stringify","results","$6142fea1849c7fbd$var$moviesDataUpdate","filters","_args","length","queryFetch","discover","week","$dIxxU","get","$ilAHm","BASE_URL","API_KEY","_ctx","sent"],"version":3,"file":"index.9e041a2a.js.map"}