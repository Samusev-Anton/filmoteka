!function(){function n(n){return n&&n.__esModule?n.default:n}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},a=l.parcelRequired7c6;null==a&&((a=function(n){if(n in e)return e[n].exports;if(n in t){var l=t[n];delete t[n];var a={id:n,exports:{}};return e[n]=a,l.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,l){t[n]=l},l.parcelRequired7c6=a),a("2Z7mb"),a("ivF4K"),a("kLOzx");var i,o=a("bpxeT"),r=a("2TvXO"),c=a("dyT35"),s=a("l5bVx"),u=n(a("WMajR")).template({1:function(l,e,t,a,i){var o,r,c=null!=e?e:l.nullContext||{},u=l.hooks.helperMissing,d="function",m=l.escapeExpression,p=l.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"  <li class='list-card__item film-card'>\n    <div class='film-card__thumb'>\n\n"+(null!=(o=p(t,"if").call(c,null!=e?p(e,"poster_path"):e,{name:"if",hash:{},fn:l.program(2,i,0),inverse:l.program(4,i,0),data:i,loc:{start:{line:10,column:6},end:{line:23,column:13}}}))?o:"")+"    </div>\n    <h2 class='film-card__title' data-id='"+m((void 0===(r=null!=(r=p(t,"id")||(null!=e?p(e,"id"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"id",hash:{},data:i,loc:{start:{line:25,column:42},end:{line:25,column:48}}}):r)+"'>"+m((void 0===(r=null!=(r=p(t,"original_title")||(null!=e?p(e,"original_title"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"original_title",hash:{},data:i,loc:{start:{line:25,column:50},end:{line:25,column:68}}}):r)+"</h2>\n    <div class='film-card__description'>\n      <ul>\n"+(null!=(o=p(t,"each").call(c,null!=e?p(e,"genres"):e,{name:"each",hash:{},fn:l.program(6,i,0),inverse:l.noop,data:i,loc:{start:{line:28,column:8},end:{line:30,column:17}}}))?o:"")+"      </ul>\n      <p class='film-card__year'>"+m((void 0===(r=null!=(r=p(t,"year")||(null!=e?p(e,"year"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"year",hash:{},data:i,loc:{start:{line:32,column:33},end:{line:32,column:41}}}):r)+"</p>\n      <div class='library__card-rating'>"+m((void 0===(r=null!=(r=p(t,"vote_average")||(null!=e?p(e,"vote_average"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"vote_average",hash:{},data:i,loc:{start:{line:33,column:40},end:{line:33,column:56}}}):r)+"</div>\n    </div>\n  </li>\n"},2:function(l,e,t,a,i){var o,r=null!=e?e:l.nullContext||{},c=l.hooks.helperMissing,u="function",d=l.escapeExpression,m=l.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"        <img\n          src='https://image.tmdb.org/t/p/w400"+d((void 0===(o=null!=(o=m(t,"poster_path")||(null!=e?m(e,"poster_path"):e))?o:c)?"undefined":n(s)(o))===u?o.call(r,{name:"poster_path",hash:{},data:i,loc:{start:{line:12,column:46},end:{line:12,column:61}}}):o)+"'\n          alt='"+d((void 0===(o=null!=(o=m(t,"original_title")||(null!=e?m(e,"original_title"):e))?o:c)?"undefined":n(s)(o))===u?o.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:13,column:15},end:{line:13,column:33}}}):o)+"'\n          loading='lazy'\n          data-id='"+d((void 0===(o=null!=(o=m(t,"id")||(null!=e?m(e,"id"):e))?o:c)?"undefined":n(s)(o))===u?o.call(r,{name:"id",hash:{},data:i,loc:{start:{line:15,column:19},end:{line:15,column:25}}}):o)+"'\n        />\n"},4:function(n,l,e,t,a){return"        <img\n          src='https://sd.keepcalms.com/i/keep-calm-poster-not-found.png'\n          alt='poster not found'\n          class='lazyload'\n        />\n"},6:function(n,l,e,t,a){var i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"          <li>"+n.escapeExpression(n.lambda(null!=l?i(l,"name"):l,l))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,a){var i;return null!=(i=(n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]})(e,"each").call(null!=l?l:n.nullContext||{},l,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:36,column:9}}}))?i:""},useData:!0}),d=(s=a("l5bVx"),n(a("WMajR")).template({1:function(n,l,e,t,a){var i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression(n.lambda(null!=l?i(l,"name"):l,l))+"\n          "},compiler:[8,">= 4.3.0"],main:function(l,e,t,a,i){var o,r,c=null!=e?e:l.nullContext||{},u=l.hooks.helperMissing,d="function",m=l.escapeExpression,p=l.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"<div class='modal'>\n  <div class='modal__img'>\n<img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500"+m((void 0===(r=null!=(r=p(t,"poster_path")||(null!=e?p(e,"poster_path"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"poster_path",hash:{},data:i,loc:{start:{line:14,column:42},end:{line:14,column:57}}}):r)+"'\n      alt="+m((void 0===(r=null!=(r=p(t,"original_title")||(null!=e?p(e,"original_title"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"original_title",hash:{},data:i,loc:{start:{line:15,column:10},end:{line:15,column:28}}}):r)+"\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title'>"+m((void 0===(r=null!=(r=p(t,"original_title")||(null!=e?p(e,"original_title"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"original_title",hash:{},data:i,loc:{start:{line:18,column:55},end:{line:18,column:73}}}):r)+"</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item'><span\n            class='modal__list-vote'\n          >"+m((void 0===(r=null!=(r=p(t,"vote_average")||(null!=e?p(e,"vote_average"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"vote_average",hash:{},data:i,loc:{start:{line:24,column:11},end:{line:24,column:27}}}):r)+"</span>\n          /\n          <span class='modal__list-value-item'>"+m((void 0===(r=null!=(r=p(t,"vote_count")||(null!=e?p(e,"vote_count"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"vote_count",hash:{},data:i,loc:{start:{line:26,column:47},end:{line:26,column:61}}}):r)+"</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item'>"+m((void 0===(r=null!=(r=p(t,"popularity")||(null!=e?p(e,"popularity"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"popularity",hash:{},data:i,loc:{start:{line:31,column:43},end:{line:31,column:57}}}):r)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item'>"+m((void 0===(r=null!=(r=p(t,"original_title")||(null!=e?p(e,"original_title"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"original_title",hash:{},data:i,loc:{start:{line:35,column:43},end:{line:35,column:61}}}):r)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item'>"+(null!=(o=p(t,"each").call(c,null!=e?p(e,"genres"):e,{name:"each",hash:{},fn:l.program(1,i,0),inverse:l.noop,data:i,loc:{start:{line:39,column:43},end:{line:40,column:19}}}))?o:"")+"</li>\n      </ul>\n\n    </div>\n    <p class='modal__about'>ABOUT</p>\n    <p class='modal__about-text'>"+m((void 0===(r=null!=(r=p(t,"overview")||(null!=e?p(e,"overview"):e))?r:u)?"undefined":n(s)(r))===d?r.call(c,{name:"overview",hash:{},data:i,loc:{start:{line:45,column:33},end:{line:45,column:45}}}):r)+'</p>\n    <div class=\'modal__buttons\'>\n      <button class=\'modal__button--watched\' type=\'submit\'>REMOVE FROM WATCHED</button>\n      <button class=\'modal__button--queue\' type=\'submit\'>REMOVE FROM QUEUE</button></div>\n  </div>\n \n  \n  \n</div>\n <div class="modal__backside">\n    <button type="button" class="modal__button-backtoinfo">Back to movie info\n<svg width="20" height="20" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 499.2 499.2" style="enable-background:new 0 0 499.2 499.2;" xml:space="preserve">\n<path style="fill:#4F0404;" d="M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z"/>\n<path style="fill:#C42014;" d="M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z"/>\n<polygon style="fill:#EA2D28;" points="123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 "/>\n<polyline style="fill:#C42014;" points="1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 "/>\n</svg>\n</button>\n    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Zq_zgig9DqQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n  </div>'},useData:!0})),m=a("cWPZ2"),p=a("gEOaa"),h=a("ilAHm"),v=document.querySelector(".library-gallery"),_=document.querySelector(".js-queue"),f=document.querySelector(".js-watched"),g=document.querySelector(".library-text");function y(n){if(v.innerHTML="",void 0!==(i=m.localStorageAPI.load(n))){i.map((function(n){return n.genres.splice(1),n.vote_average=Number(n.vote_average.toFixed(1)),n}));var l=(0,p.dataToYear)(i),e={};l.forEach((function(n){e[n.id]=n}));var t=Object.values(e);t.length>=1&&g.classList.add("is-hidden"),v.innerHTML=u(t),document.querySelector(".film-list").addEventListener("click",x)}}function b(n){return w.apply(this,arguments)}function w(){return(w=n(o)(n(r).mark((function l(e){var t,a;return n(r).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(h.ID_URL,"/").concat(e,"?api_key=").concat(h.API_KEY,"&language=en-US"));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,console.log(a),n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),l,null,[[0,11]])})))).apply(this,arguments)}function x(n){return k.apply(this,arguments)}function k(){return(k=n(o)(n(r).mark((function l(e){return n(r).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),"IMG"===e.target.nodeName){n.next=3;break}return n.abrupt("return");case 3:b(e.target.dataset.id).then((function(n){c.create(d(n),{onShow:function(n){n.element().querySelector("img").onclick=n.close}}).show()}));case 5:case"end":return n.stop()}}),l)})))).apply(this,arguments)}_.addEventListener("click",(function(){f.classList.remove("button--accent"),y("queue")})),f.addEventListener("click",(function(){y("watched")})),y("watched")}();
//# sourceMappingURL=library.ea6dee47.js.map
