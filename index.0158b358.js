function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var l={id:e,exports:{}};return n[e]=l,t.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=l),l("dohZK");var a=l("fjHYn");var r=e(l("amrNH")).template({1:function(e,t,n,o,l){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=t?a(t,"name"):t,t))+"\n          "},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,l){var a,r,s=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div class='modal background-modal'>\n  <div class='modal__img'><button\n      type='button'\n      class='modal__button-rotate'\n    ><svg\n        width='30'\n        height='30'\n        version='1.1'\n        id='Layer_1'\n        xmlns='http://www.w3.org/2000/svg'\n        xmlns:xlink='http://www.w3.org/1999/xlink'\n        x='0px'\n        y='0px'\n        viewBox='0 0 461.001 461.001'\n        style='enable-background:new 0 0 461.001 461.001;'\n        xml:space='preserve'\n      >\n        <g>\n          <path\n            style='fill:#F61C0D;'\n            d='M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728\n\t\tc0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137\n\t\tC461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607\n\t\tc0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z'\n          ></path>\n        </g>\n      </svg>\n      Watch trailer</button><img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500"+d(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:i)===c?r.call(s,{name:"poster_path",hash:{},data:l,loc:{start:{line:30,column:42},end:{line:30,column:57}}}):r)+"'\n      alt="+d(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:i)===c?r.call(s,{name:"original_title",hash:{},data:l,loc:{start:{line:31,column:10},end:{line:31,column:28}}}):r)+"\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title dark-theme-text'>"+d(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:i)===c?r.call(s,{name:"original_title",hash:{},data:l,loc:{start:{line:34,column:71},end:{line:34,column:89}}}):r)+"</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item dark-theme-text'><span\n            class='modal__list-vote dark-theme-text'\n          >"+d(typeof(r=null!=(r=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?r:i)===c?r.call(s,{name:"vote_average",hash:{},data:l,loc:{start:{line:40,column:11},end:{line:40,column:27}}}):r)+"</span>\n          /\n          <span class='modal__list-value-item dark-theme-text'>"+d(typeof(r=null!=(r=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?r:i)===c?r.call(s,{name:"vote_count",hash:{},data:l,loc:{start:{line:42,column:63},end:{line:42,column:77}}}):r)+"</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item dark-theme-text'>"+d(typeof(r=null!=(r=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?r:i)===c?r.call(s,{name:"popularity",hash:{},data:l,loc:{start:{line:47,column:59},end:{line:47,column:73}}}):r)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item dark-theme-text'>"+d(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:i)===c?r.call(s,{name:"original_title",hash:{},data:l,loc:{start:{line:51,column:59},end:{line:51,column:77}}}):r)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item dark-theme-text'>"+(null!=(a=u(n,"each").call(s,null!=t?u(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:55,column:59},end:{line:56,column:19}}}))?a:"")+"</li>\n      </ul>\n    </div>\n    <p class='modal__about dark-theme-text'>ABOUT</p>\n    <p class='modal__about-text dark-theme-text'>"+d(typeof(r=null!=(r=u(n,"overview")||(null!=t?u(t,"overview"):t))?r:i)===c?r.call(s,{name:"overview",hash:{},data:l,loc:{start:{line:60,column:49},end:{line:60,column:61}}}):r)+"</p>\n    <div class='modal__buttons'>\n      <button class='modal__button--watched' type='submit'>ADD TO WATCHED</button>\n      <button class='modal__button--queue' type='submit'>ADD TO QUEUE</button></div>\n  </div>\n  <button type='button' class='modal__button-close'>\n      <svg class='modal-close__svg' width='30' height='30' viewBox='0 0 30 30'>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 8L22 22' stroke='black' stroke-width='2'></path>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 22L22 8' stroke='black' stroke-width='2'></path>\n    </svg>\n  </button>\n</div>\n\n<div class='modal__backside'>\n  <button type='button' class='modal__button-backtoinfo'>Back to movie info\n    <svg\n      width='20'\n      height='20'\n      version='1.1'\n      id='Layer_1'\n      xmlns='http://www.w3.org/2000/svg'\n      xmlns:xlink='http://www.w3.org/1999/xlink'\n      x='0px'\n      y='0px'\n      viewBox='0 0 499.2 499.2'\n      style='enable-background:new 0 0 499.2 499.2;'\n      xml:space='preserve'\n    >\n      <path\n        style='fill:#4F0404;'\n        d='M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z'\n      ></path>\n      <path\n        style='fill:#C42014;'\n        d='M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z'\n      ></path>\n      <polygon\n        style='fill:#EA2D28;'\n        points='123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 '\n      ></polygon>\n      <polyline\n        style='fill:#C42014;'\n        points='1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 '\n      ></polyline>\n    </svg>\n  </button>\n</div>"},useData:!0}),s=l("krGWQ"),i=l("eWCmQ"),c=l("jqwYo");let d=[],u=[];function m(e,t){let n=localStorage.getItem(e);d.includes(t)?i.Notify.failure("we have alredy added that movie"):null===n?(d.push(t),c.localStorageAPI.save(e,d)):(d=JSON.parse(n),d.push(t),c.localStorageAPI.save(e,d))}function p(e,t){let n=localStorage.getItem(e);u.includes(t)?i.Notify.failure("we have alredy added that movie"):null===n?(u.push(t),c.localStorageAPI.save(e,u)):(u=JSON.parse(n),u.push(t),c.localStorageAPI.save(e,u))}let v;s.refs.homeGallery.addEventListener("click",(async function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName&&"H2"!==e.target.nodeName)return;const t=e.target.dataset.id;(0,a.apiModalDetails)(t).then((e=>{v=e,s.refs.filmBox.innerHTML=r(e),function(){const e=document.querySelector(".modal__button-close"),t=document.querySelector(".modal__button-rotate");document.querySelector(".modal__button-backtoinfo").addEventListener("click",f),t.addEventListener("click",g),t.addEventListener("click",w),document.body.addEventListener("keydown",_),document.body.classList.add("modal-open"),s.refs.filmBox.classList.remove("visually-hidden"),document.body.addEventListener("click",b),e.addEventListener("click",y)}(),h.push(t)}))}));let h=[];function f(){const e=document.querySelector(".modal"),t=document.querySelector(".modal__backside");e.classList.remove("rotated"),t.classList.remove("rotated360")}function g(){const e=document.querySelector(".modal"),t=document.querySelector(".modal__backside");e.classList.add("rotated"),t.classList.add("rotated360")}function y(){document.body.classList.remove("modal-open"),s.refs.filmBox.classList.add("visually-hidden"),document.body.removeEventListener("click",b),document.body.removeEventListener("keydown",_),h=[]}function _(e){"Escape"===e.code&&y()}function b(e){"modal__button--watched"===e.target.className&&(m("watched",v),y()),"modal__button--queue"===e.target.className&&(p("queue",v),y()),e.target===s.refs.filmBox&&y()}function w(){console.log(h),(0,a.apiMovieDetails)(h).then((e=>{console.log(e),function(e){const t=document.querySelector(".modal__backside"),n=`<iframe\n  width="100%"\n  height="100%"\n  src="https://www.youtube.com/embed/${e}"\n  title="YouTube video player"\n  frameborder="0"\n  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n  allowfullscreen\n  ></iframe>`;t.insertAdjacentHTML("beforeend",n)}(e)}))}l("7wfKH"),l("brr8Z"),l("cddKH");a=l("fjHYn");var k={};k=function e(t,n,o){function l(r,s){if(!n[r]){if(!t[r]){var i=void 0;if(!s&&i)return i(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,(function(e){return l(t[r][1][e]||e)}),d,d.exports,e,t,n,o)}return n[r].exports}for(var a=void 0,r=0;r<o.length;r++)l(o[r]);return l}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=e.trim(),!0===t?n.children:n.firstChild},l=function(e,t){var n=e.children;return 1===n.length&&n[0].tagName===t},a=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};n.visible=a,n.create=function(e,t){var n=function(e,t){var n=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),a=n.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return a.appendChild(e)}));var r=l(a,"IMG"),s=l(a,"VIDEO"),i=l(a,"IFRAME");return!0===r&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===i&&n.classList.add("basicLightbox--iframe"),n}(e=function(e){var t="string"==typeof e,n=e instanceof HTMLElement==1;if(!1===t&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),r=function(e){return!1!==t.onClose(s)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===a(e)||e.parentElement.removeChild(e),t()}),410),!0}(n,(function(){if("function"==typeof e)return e(s)}))};!0===t.closable&&n.addEventListener("click",(function(e){e.target===n&&r()}));var s={element:function(){return n},visible:function(){return a(n)},show:function(e){return!1!==t.onShow(s)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(n,(function(){if("function"==typeof e)return e(s)}))},close:r};return s}},{}]},{},[1])(1),document.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("button__trailer")||t.classList.contains("modal__button--trailer")){const e=t.dataset.id;console.log("movieID :>> ",e),(0,a.apiMovieDetails)(e).then((e=>{var t;t=e,k.create(`\n    <iframe src='https://www.youtube.com/embed/${t}' width="640" height="480" frameborder="0" allowfullscreen origin></iframe>\n`).show()}))}}));({el:document.querySelector("#scrollup"),show(){this.el.classList.remove("visually-hidden-scroll")},hide(){this.el.classList.add("visually-hidden-scroll")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>500?this.show():this.hide()})),document.querySelector("#scrollup").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();var L=l("2shzp"),x=l("3QtWM"),S=(s=l("krGWQ"),c=l("jqwYo"),l("cTIOm"));const E=document.querySelector("#genreForm"),P=document.querySelector("#filter-form"),q=document.querySelector("#yearForm"),A=document.querySelector("#btnResetFilter"),I=document.querySelector(".preloader");E&&E.addEventListener("input",(function(e){e&&(I.classList.remove("done"),genre=e.target.value,page=1,c.localStorageAPI.save("page-pg",page),c.localStorageAPI.save("genre-pg",genre),O(page,query,genre,year,sort).then((e=>{s.refs.homeGallery.innerHTML=(0,S.default)(e),c.localStorageAPI.save("total-pages",amountOfPages),I.classList.add("done")})))})),q&&q.addEventListener("input",eventYear),sortForm&&sortForm.addEventListener("input",eventSort),A&&A.addEventListener("click",(function(e){I.classList.remove("done"),e.preventDefault(),P[0].options.selectedIndex=0,P[1].options.selectedIndex=0,P[2].options.selectedIndex=0,genre="",year="",sort="",page=1,""===query?amountOfPages=1e3:amountOfPages=c.localStorageAPI.load("total-pages");c.localStorageAPI.save("genre-pg",genre),c.localStorageAPI.save("year-pg",year),c.localStorageAPI.save("sort-pg",sort),c.localStorageAPI.save("page-pg",page),c.localStorageAPI.save("total-pages",amountOfPages),O(page,query,genre,year,sort).then((e=>{s.refs.homeGallery.innerHTML=(0,S.default)(e),function(e){localStorage.setItem("moviesData",JSON.stringify(e.results))}(e),c.localStorageAPI.save("total-pages",amountOfPages),I.classList.add("done")})),c.localStorageAPI.save("page-pg",page)}));const O=async(e="",t="",n="",o="",l="")=>{let a={year:""!==o&&"start"!==o?`&primary_release_year=${o}`:"",genre:""!==n&&"start"!==n?`&with_genres=${n}`:"",queryFetch:`&query=${t}`,sort:""!==l&&"start"!==l?`&sort_by=${l}`:"",discover:"/trending",week:"/week"};""===t&&(a.queryFetch=""),""!==t&&""===n&&(a.discover="/search",a.week=""),""===t&&""!==n&&(a.discover="/discover",a.week=""),""===t&&""!==o&&(a.discover="/discover",a.week="");let{data:r}=await L.default.get(`${x.BASE_URL}${a.discover}/movie${a.week}?api_key=${x.API_KEY}${a.genre}${a.year}${a.sort}&language=en-US${a.queryFetch}&page=${e}`);return c.localStorageAPI.save("moviesData",r.results),r};
//# sourceMappingURL=index.0158b358.js.map
