{"mappings":"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","sources":["src/index.js","src/js/modal-card.js","src/js/templates/markupModal.hbs","src/js/modal-card-btn.js","src/js/trailer.js","src/js/scroll-top.js","src/js/filter.js"],"sourcesContent":["import './js/home-page';\nimport './js/modal-card';\nimport  './js/pagin';\n//update progect\nimport './js/theme-switcher';\nimport './js/modal-students';\nimport './js/trailer';\nimport './js/scroll-top';\nimport './js/filter';\n\n","import { apiModalDetails, apiMovieDetails } from './themovieApi';\nimport markupModal from '../js/templates/markupModal.hbs';\nimport { refs } from './refs';\n// import addWatched from './my-library';\nimport { addWatchedBtn, addQueueBtn } from './modal-card-btn';\n\nconst STORAGE_KEY_WATCHED = 'watched';\nconst STORAGE_KEY_QUEUE = 'queue';\n\nrefs.homeGallery.addEventListener('click', clickOnMovie);\n\n// variable for localstorage\nlet response;\nlet iD = [];\n// -------------------------\n// Click Handler Function\nasync function clickOnMovie(evt) {\n  evt.preventDefault();\n\n  if (evt.target.nodeName !== 'IMG' && evt.target.nodeName !== 'H2') {\n    return;\n  }\n\n  // console.log(evt.target.dataset.id);\n  const movieId = evt.target.dataset.id;\n  apiModalDetails(movieId).then(resp => {\n    // refrash variable for localstorage\n    response = resp;\n    //--------------------------\n    // console.log(resp);\n    refs.filmBox.innerHTML = markupModal(resp);\n    onOpenModal();\n    iD.push(movieId);\n  });\n}\n\nfunction onOpenModal() {\n  const closeModalBtn = document.querySelector('.modal__button-close');\n  const rotateModal = document.querySelector('.modal__button-rotate');\n  const unRotateModal = document.querySelector('.modal__button-backtoinfo');\n  rotateModal.addEventListener('click', onRotateModal);\n  rotateModal.addEventListener('click', watchTrailer);\n  unRotateModal.addEventListener('click', onUnRotateModal);\n  document.body.addEventListener('keydown', onEscButton);\n  document.body.addEventListener('click', handleClick);\n  closeModalBtn.addEventListener('click', onCloseModal);\n  document.body.classList.add('modal-open');\n  refs.filmBox.classList.remove('visually-hidden');\n}\n\nfunction onUnRotateModal() {\n  const modal = document.querySelector('.modal');\n  const modalBackSide = document.querySelector('.modal__backside');\n\n  modal.classList.remove('rotated');\n  modalBackSide.classList.remove('rotated360');\n}\n\nfunction onRotateModal() {\n  const modal = document.querySelector('.modal');\n  const modalBackSide = document.querySelector('.modal__backside');\n  modal.classList.add('rotated');\n  modalBackSide.classList.add('rotated360');\n  const iframe = document.querySelector('iframe');\n  iframe.remove();\n}\n\nfunction onCloseModal() {\n  const closeModalBtn = document.querySelector('.modal__button-close');\n  const rotateModal = document.querySelector('.modal__button-rotate');\n  const unRotateModal = document.querySelector('.modal__button-backtoinfo');\n  document.body.classList.remove('modal-open');\n  refs.filmBox.classList.add('visually-hidden');\n  rotateModal.removeEventListener('click', onRotateModal);\n  rotateModal.removeEventListener('click', watchTrailer);\n  unRotateModal.removeEventListener('click', onUnRotateModal);\n  document.body.removeEventListener('keydown', onEscButton);\n  document.body.removeEventListener('click', handleClick);\n  closeModalBtn.removeEventListener('click', onCloseModal);\n  iD = [];\n}\n\nfunction onEscButton(evt) {\n  if (evt.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction handleClick(event) {\n  // console.log(response);\n  if (event.target.className === 'modal__button--watched') {\n    addWatchedBtn(STORAGE_KEY_WATCHED, response);\n    onCloseModal();\n  }\n  if (event.target.className === 'modal__button--queue') {\n    addQueueBtn(STORAGE_KEY_QUEUE, response);\n    onCloseModal();\n  }\n  // console.log(event.target);\n  // console.log('currentTarget: ', event.currentTarget);\n  if (event.target === refs.filmBox) {\n    onCloseModal();\n  }\n}\n\nfunction watchTrailer() {\n  apiMovieDetails(iD).then(resp => {\n    createPlayer(resp);\n  });\n}\n\nfunction createPlayer(videoKey) {\n  const modalBackSide = document.querySelector('.modal__backside');\n  const player = `<iframe class=\"youtube-player\"\n  width=\"100%\"\n  height=\"100%\"\n  src=\"https://www.youtube.com/embed/${videoKey}\"\n  title=\"YouTube video player\"\n  frameborder=\"0\"\n  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n  allowfullscreen\n  ></iframe>`;\n  modalBackSide.insertAdjacentHTML('beforeend', player);\n}\n","<div class='modal background-modal'>\n  <div class='modal__img'><button\n      type='button'\n      class='modal__button-rotate'\n    ><svg\n        width='30'\n        height='30'\n        version='1.1'\n        id='Layer_1'\n        xmlns='http://www.w3.org/2000/svg'\n        xmlns:xlink='http://www.w3.org/1999/xlink'\n        x='0px'\n        y='0px'\n        viewBox='0 0 461.001 461.001'\n        style='enable-background:new 0 0 461.001 461.001;'\n        xml:space='preserve'\n      >\n        <g>\n          <path\n            style='fill:#F61C0D;'\n            d='M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728\n\t\tc0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137\n\t\tC461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607\n\t\tc0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z'\n          ></path>\n        </g>\n      </svg>\n      Watch trailer</button><img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500{{poster_path}}'\n      alt={{original_title}}\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title dark-theme-text'>{{original_title}}</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item dark-theme-text'><span\n            class='modal__list-vote dark-theme-text'\n          >{{vote_average}}</span>\n          /\n          <span class='modal__list-value-item dark-theme-text'>{{vote_count}}</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item dark-theme-text'>{{popularity}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item dark-theme-text'>{{original_title}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item dark-theme-text'>{{#each genres}}{{this.name}}\n          {{/each}}</li>\n      </ul>\n    </div>\n    <p class='modal__about dark-theme-text'>ABOUT</p>\n    <p class='modal__about-text dark-theme-text'>{{overview}}</p>\n    <div class='modal__buttons'>\n      <button class='modal__button--watched' type='submit'>ADD TO WATCHED</button>\n      <button class='modal__button--queue' type='submit'>ADD TO QUEUE</button></div>\n  </div>\n  <button type='button' class='modal__button-close'>\n      <svg class='modal-close__svg' width='30' height='30' viewBox='0 0 30 30'>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 8L22 22' stroke='black' stroke-width='2'></path>\n      <path class='modal-close__svg__path dark-theme-text' d='M8 22L22 8' stroke='black' stroke-width='2'></path>\n    </svg>\n  </button>\n</div>\n\n<div class='modal__backside'>\n  <button type='button' class='modal__button-backtoinfo'>Back to movie info\n    <svg\n      width='20'\n      height='20'\n      version='1.1'\n      id='Layer_1'\n      xmlns='http://www.w3.org/2000/svg'\n      xmlns:xlink='http://www.w3.org/1999/xlink'\n      x='0px'\n      y='0px'\n      viewBox='0 0 499.2 499.2'\n      style='enable-background:new 0 0 499.2 499.2;'\n      xml:space='preserve'\n    >\n      <path\n        style='fill:#4F0404;'\n        d='M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z'\n      ></path>\n      <path\n        style='fill:#C42014;'\n        d='M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z'\n      ></path>\n      <polygon\n        style='fill:#EA2D28;'\n        points='123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 '\n      ></polygon>\n      <polyline\n        style='fill:#C42014;'\n        points='1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 '\n      ></polyline>\n    </svg>\n  </button>\n</div>","import { Notify } from 'notiflix';\nimport { localStorageAPI } from './api/localStorageAPI';\n\nlet storageWatched = [];\nlet storageQueue = [];\n\nexport function addWatchedBtn(key, obj) {\n  // console.dir(obj.id);\n  let arrWatched = localStorage.getItem(key);\n  if (storageWatched.includes(obj)) {\n    Notify.failure('we have alredy added that movie');\n    return;\n  } else if (arrWatched === null) {\n    storageWatched.push(obj);\n    // console.dir(storageWatched[0].id);\n    localStorageAPI.save(key, storageWatched);\n  } else {\n    storageWatched = JSON.parse(arrWatched);\n    // console.log(storageWatched);\n    storageWatched.push(obj);\n    localStorageAPI.save(key, storageWatched);\n  }\n}\n\nexport function addQueueBtn(key, obj) {\n  let arrQueue = localStorage.getItem(key);\n  // console.log(arrQueue);\n  if (storageQueue.includes(obj)) {\n    Notify.failure('we have alredy added that movie');\n    return;\n  } else if (arrQueue === null) {\n    // console.dir(arrQueue);\n    storageQueue.push(obj);\n    // console.log(storageQueue);\n    localStorageAPI.save(key, storageQueue);\n  } else {\n    storageQueue = JSON.parse(arrQueue);\n    // console.log(storageQueue);\n    storageQueue.push(obj);\n    localStorageAPI.save(key, storageQueue);\n  }\n}\n","import { apiMovieDetails } from './themovieApi';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/src/styles/main.scss';\n\ndocument.addEventListener('click', watchTrailer);\n\nfunction watchTrailer(event) {\n  const target = event.target;\n\n  if (\n    target.classList.contains('button__trailer') ||\n    target.classList.contains('modal__button--trailer')\n  ) {\n    const movieID = target.dataset.id;\n    console.log('movieID :>> ', movieID);\n    apiMovieDetails(movieID).then(resp => {\n      createPlayer(resp);\n    });\n  }\n}\n\nfunction createPlayer(videoKey) {\n  const instance = basicLightbox.create(`\n    <iframe src='https://www.youtube.com/embed/${videoKey}' width=\"640\" height=\"480\" frameborder=\"0\" allowfullscreen origin></iframe>\n`);\n\n  instance.show();\n}\n","// import debounce from 'debounce';\n\n\nconst upScroll ={ el:document.querySelector('#scrollup'),\n  show(){this.el.classList.remove('visually-hidden-scroll');\n},\nhide(){\n  this.el.classList.add('visually-hidden-scroll');\n},\naddEventListener(){\n  window.addEventListener('scroll', () => {\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    scrollY > 500 ? this.show() : this.hide();\n  });\n  document.querySelector('#scrollup').onclick = () =>{\n    window.scrollTo({\n      top:0,\n      left:0,\n      behavior: 'smooth'\n    });\n  }\n}\n}\n upScroll.addEventListener();\n\n\n// const rootElement = document.documentElement;\n\n// function scrollToTop() {\n//     // Scroll to top logic\n//     rootElement.scrollTo({\n//       top: 0,\n//       behavior: \"smooth\"\n//     });\n//   }\n//   upScroll.addEventListener(\"click\", scrollToTop);\n\n\n// scrollWindow = () => {\n//     // window.addEventListener('DOMContentLoaded', () => {\n//     //\n//     //   this.refs.upScroll.classList.add('visually-hidden');\n//     // });\n//     this.upScroll.addEventListener('click', () => {\n//       window.scrollTo({\n//         top: 0,\n//         behavior: 'smooth',\n//       });\n//     });\n\n//     window.addEventListener(\n//       'scroll',\n//       debounce(() => {\n//         scrollY > 200\n//           ? this.refs.upScroll.classList.remove('visually-hidden-scroll')\n//           : this.refs.upScroll.classList.add('visually-hidden-scroll');\n//       }, 250),\n//     );\n//   };\n","import axios from 'axios';\nimport {\n  API_KEY,\n  BASE_URL,\n  TREND_URL,\n  SEARCH_URL,\n  ID_URL,\n} from './api/api-parts';\nimport { refs } from './refs';\nimport { localStorageAPI } from './api/localStorageAPI';\nimport markupSearchPage from '../js/templates/markupHomePage.hbs';\n\n\nconst genreForm = document.querySelector('#genreForm');\nconst filterForm = document.querySelector('#filter-form');\nconst yearForm = document.querySelector('#yearForm');\nconst btnReset = document.querySelector('#btnResetFilter');\nconst spinner = document.querySelector('.preloader');\nconst sortForm = document.querySelector('#sortForm');\n\nif (genreForm) {\n    genreForm.addEventListener('input', eventGenre);\n};\n\nif (yearForm) {\n    yearForm.addEventListener('input', eventYear);\n};\nif (sortForm) {\n    sortForm.addEventListener('input', eventSort);\n};\n\nif (btnReset) {\n    btnReset.addEventListener('click', submitResetFilter);\n};\n\n    function moviesDataUpdate(data) {\n    localStorage.setItem('moviesData', JSON.stringify(data.results));\n}\n\nconst getSearchForm = async (page = '', query = '', genre = '', year = '', sort = '') => {\n    let filters = {\n    year: year !== '' && year !== 'start' ? `&primary_release_year=${year}` : '',\n    genre: genre !== '' && genre !== 'start' ? `&with_genres=${genre}` : '',\n    queryFetch: `&query=${query}`,\n    sort: sort !== '' && sort !== 'start' ? `&sort_by=${sort}` : '',\n    discover: `/trending`,\n    week: `/week`,\n    };\n    if (query === '') {\n    filters.queryFetch = '';\n    }\n    if (query !== '' && genre === '') {\n    filters.discover = '/search';\n    filters.week = '';\n    }\n    if (query === '' && genre !== '') {\n    filters.discover = '/discover';\n    filters.week = '';\n    }\n    if (query === '' && year !== '') {\n    filters.discover = '/discover';\n    filters.week = '';\n    }\n    \n        let { data } = await axios.get(\n          `${BASE_URL}${filters.discover}/movie${filters.week}?api_key=${API_KEY}${filters.genre}${filters.year}${filters.sort}&language=en-US${filters.queryFetch}&page=${page}`\n        );\n        localStorageAPI.save('moviesData', data.results);\n\n        return data;\n};\n    \nfunction eventGenre(evn) {\n  if (evn) {\n    spinner.classList.remove('done');\n    genre = evn.target.value;\n    page = 1;\n    // query = '';\n    // year = '';\n    // sort = '';\n    localStorageAPI.save('page-pg', page);\n    localStorageAPI.save('genre-pg', genre);\n    getSearchForm(page, genre).then(data => {\n    refs.homeGallery.innerHTML = markupSearchPage(data);\n        if (data.total_pages > 500) {\n            amountOfPages = 500;\n        } else {\n            amountOfPages = data.total_pages;\n        }\n        localStorageAPI.save('total-pages', amountOfPages);\n        spinner.classList.add('done');\n    });\n    }\n}\n\nfunction eventYear(evn) {\n    if (evn) {\n        spinner.classList.remove('done');\n        page = 1;\n        query = '';\n        localStorageAPI.save('page-pg', page);\n        year = evn.target.value;\n        localStorageAPI.save('year-pg', year);\n        getSearchForm(page,year).then(data => {\n            refs.homeGallery.innerHTML = markupSearchPage(data);\n            if (data.total_pages > 500) {\n                amountOfPages = 500;\n            } else {\n                amountOfPages = data.total_pages;\n            }\n            spinner.classList.add('done');\n            if (query == '') {\n                localStorageAPI.save('total-pages', amountOfPages);\n            }\n        });\n    }\n}\n\nfunction eventSort(evn) {\n    if (evn) {\n        spinner.classList.remove('done');\n        page = 1;\n        query = '';\n        year = '';\n        genre = '';\n        localStorageAPI.save('page-pg', page);\n        sort = evn.target.value;\n        localStorageAPI.save('sort-pg', sort);\n        getSearchForm(page,sort).then(data => {\n            refs.homeGallery.innerHTML = markupSearchPage(data);\n            if (data.total_pages > 500) {\n                amountOfPages = 500;\n            } else {\n                amountOfPages = data.total_pages;\n            }\n                \n                localStorageAPI.save('total-pages', amountOfPages);\n                spinner.classList.add('done');\n        });\n    }\n}\n\n\nfunction submitResetFilter(evn) {\n    spinner.classList.remove('done');\n    evn.preventDefault();\n    filterForm[0].options.selectedIndex = 0;\n    filterForm[1].options.selectedIndex = 0;\n    filterForm[2].options.selectedIndex = 0;\n    genre = '';\n    year = '';\n    sort = '';\n    page = 1;\n    if (query === '') {\n      amountOfPages = 1000;\n    } else {\n      amountOfPages = localStorageAPI.load('total-pages');\n    }\n    localStorageAPI.save('genre-pg', genre);\n    localStorageAPI.save('year-pg', year);\n    localStorageAPI.save('sort-pg', sort);\n    localStorageAPI.save('page-pg', page);\n    localStorageAPI.save('total-pages', amountOfPages);\n    getSearchForm(page, query, genre, year, sort).then(data => {\n        refs.homeGallery.innerHTML = markupSearchPage(data);\n        moviesDataUpdate(data);\n        localStorageAPI.save('total-pages', amountOfPages);\n        spinner.classList.add('done');\n    });\n    localStorageAPI.save('page-pg', page);\n}\n\n\n// commit"],"names":["parcelRequire","$fjHYn","$f13324418eeb7ee3$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","compiler","main","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","name","hash","loc","start","line","column","end","fn","program","inverse","noop","useData","$eWCmQ","$aac51cd6fdd07f04$var$storageWatched","$aac51cd6fdd07f04$var$storageQueue","$aac51cd6fdd07f04$export$49a7eaf505d966ae","key","obj","arrWatched","localStorage","getItem","includes","Notify","failure","push","$jqwYo","localStorageAPI","save","JSON","parse","$aac51cd6fdd07f04$export$90342974b38de9f","arrQueue","$d1076de9aac85f40$var$response","$krGWQ","refs","homeGallery","addEventListener","async","evt","preventDefault","target","nodeName","movieId","dataset","id","apiModalDetails","then","resp","filmBox","innerHTML","closeModalBtn","document","querySelector","rotateModal","unRotateModal","$d1076de9aac85f40$var$onRotateModal","$d1076de9aac85f40$var$watchTrailer","$d1076de9aac85f40$var$onUnRotateModal","body","$d1076de9aac85f40$var$onEscButton","$d1076de9aac85f40$var$handleClick","$d1076de9aac85f40$var$onCloseModal","classList","add","remove","$d1076de9aac85f40$var$onOpenModal","$d1076de9aac85f40$var$iD","modal","modalBackSide","removeEventListener","code","event","className","apiMovieDetails","videoKey","player","insertAdjacentHTML","$d1076de9aac85f40$var$createPlayer","contains","movieID","console","log","$9B8F0","create","show","el","this","hide","window","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior","$2shzp","$cc8167df025acb14$var$genreForm","$cc8167df025acb14$var$filterForm","$cc8167df025acb14$var$yearForm","$cc8167df025acb14$var$btnReset","$cc8167df025acb14$var$spinner","$cc8167df025acb14$var$sortForm","evn","genre","value","page","$cc8167df025acb14$var$getSearchForm","$cTIOm","default","total_pages","amountOfPages","query","year","sort","options","selectedIndex","load","setItem","stringify","results","$cc8167df025acb14$var$moviesDataUpdate","filters","queryFetch","discover","week","get","$3QtWM","BASE_URL","API_KEY"],"version":3,"file":"index.af4d06cd.js.map"}