!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},t={},a=e.parcelRequired7c6;null==a&&((a=function(n){if(n in l)return l[n].exports;if(n in t){var e=t[n];delete t[n];var a={id:n,exports:{}};return l[n]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,e){t[n]=e},e.parcelRequired7c6=a),a("2Z7mb"),a("ivF4K");var o=a("bpxeT"),i=a("2TvXO"),c=a("dyT35"),r=a("l5bVx"),s=n(a("WMajR")).template({1:function(e,l,t,a,o){var i,c,s=null!=l?l:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression,p=e.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"  <li class='list-card__item film-card'>\n    <div class='film-card__thumb'>\n\n"+(null!=(i=p(t,"if").call(s,null!=l?p(l,"poster_path"):l,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:10,column:6},end:{line:23,column:13}}}))?i:"")+"    </div>\n    <h2 class='film-card__title' data-id='"+m((void 0===(c=null!=(c=p(t,"id")||(null!=l?p(l,"id"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"id",hash:{},data:o,loc:{start:{line:25,column:42},end:{line:25,column:48}}}):c)+"'>"+m((void 0===(c=null!=(c=p(t,"original_title")||(null!=l?p(l,"original_title"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"original_title",hash:{},data:o,loc:{start:{line:25,column:50},end:{line:25,column:68}}}):c)+"</h2>\n    <div class='film-card__description'>\n      <ul>\n"+(null!=(i=p(t,"each").call(s,null!=l?p(l,"genres"):l,{name:"each",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:28,column:8},end:{line:30,column:17}}}))?i:"")+"      </ul>\n      <p class='film-card__year'>"+m((void 0===(c=null!=(c=p(t,"year")||(null!=l?p(l,"year"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"year",hash:{},data:o,loc:{start:{line:32,column:33},end:{line:32,column:41}}}):c)+"</p>\n      <div class='library__card-rating'>"+m((void 0===(c=null!=(c=p(t,"vote_average")||(null!=l?p(l,"vote_average"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"vote_average",hash:{},data:o,loc:{start:{line:33,column:40},end:{line:33,column:56}}}):c)+"</div>\n    </div>\n  </li>\n"},2:function(e,l,t,a,o){var i,c=null!=l?l:e.nullContext||{},s=e.hooks.helperMissing,u="function",d=e.escapeExpression,m=e.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"        <img\n          src='https://image.tmdb.org/t/p/w400"+d((void 0===(i=null!=(i=m(t,"poster_path")||(null!=l?m(l,"poster_path"):l))?i:s)?"undefined":n(r)(i))===u?i.call(c,{name:"poster_path",hash:{},data:o,loc:{start:{line:12,column:46},end:{line:12,column:61}}}):i)+"'\n          alt='"+d((void 0===(i=null!=(i=m(t,"original_title")||(null!=l?m(l,"original_title"):l))?i:s)?"undefined":n(r)(i))===u?i.call(c,{name:"original_title",hash:{},data:o,loc:{start:{line:13,column:15},end:{line:13,column:33}}}):i)+"'\n          loading='lazy'\n          data-id='"+d((void 0===(i=null!=(i=m(t,"id")||(null!=l?m(l,"id"):l))?i:s)?"undefined":n(r)(i))===u?i.call(c,{name:"id",hash:{},data:o,loc:{start:{line:15,column:19},end:{line:15,column:25}}}):i)+"'\n        />\n"},4:function(n,e,l,t,a){return"        <img\n          src='https://sd.keepcalms.com/i/keep-calm-poster-not-found.png'\n          alt='poster not found'\n          class='lazyload'\n        />\n"},6:function(n,e,l,t,a){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"          <li>"+n.escapeExpression(n.lambda(null!=e?o(e,"name"):e,e))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,t,a){var o;return null!=(o=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(l,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:36,column:9}}}))?o:""},useData:!0}),u=(r=a("l5bVx"),n(a("WMajR")).template({1:function(n,e,l,t,a){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return n.escapeExpression(n.lambda(null!=e?o(e,"name"):e,e))+"\n          "},compiler:[8,">= 4.3.0"],main:function(e,l,t,a,o){var i,c,s=null!=l?l:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression,p=e.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return"\n<div class='modal'>\n  <button type='button' class='modal_button-close'>\n   <svg class='modal-close__svg' width='30' height='30' viewBox='0 0 30 30'>\n      <path\n        class='modal-close__svg__path'\n        d='M8 8L22 22'\n        stroke='black'\n        stroke-width='2'\n      ></path>\n      <path\n        class='modal-close__svg__path'\n        d='M8 22L22 8'\n        stroke='black'\n        stroke-width='2'\n      ></path>\n    </svg>\n</button>\n  <div class='modal__img'>\n    <img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500"+m((void 0===(c=null!=(c=p(t,"poster_path")||(null!=l?p(l,"poster_path"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"poster_path",hash:{},data:o,loc:{start:{line:31,column:42},end:{line:31,column:57}}}):c)+"'\n      alt="+m((void 0===(c=null!=(c=p(t,"original_title")||(null!=l?p(l,"original_title"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"original_title",hash:{},data:o,loc:{start:{line:32,column:10},end:{line:32,column:28}}}):c)+"\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title'>"+m((void 0===(c=null!=(c=p(t,"original_title")||(null!=l?p(l,"original_title"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"original_title",hash:{},data:o,loc:{start:{line:35,column:55},end:{line:35,column:73}}}):c)+"</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item'><span\n            class='modal__list-vote'\n          >"+m((void 0===(c=null!=(c=p(t,"vote_average")||(null!=l?p(l,"vote_average"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"vote_average",hash:{},data:o,loc:{start:{line:41,column:11},end:{line:41,column:27}}}):c)+"</span>\n          /\n          <span class='modal__list-value-item'>"+m((void 0===(c=null!=(c=p(t,"vote_count")||(null!=l?p(l,"vote_count"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"vote_count",hash:{},data:o,loc:{start:{line:43,column:47},end:{line:43,column:61}}}):c)+"</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item'>"+m((void 0===(c=null!=(c=p(t,"popularity")||(null!=l?p(l,"popularity"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"popularity",hash:{},data:o,loc:{start:{line:48,column:43},end:{line:48,column:57}}}):c)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item'>"+m((void 0===(c=null!=(c=p(t,"original_title")||(null!=l?p(l,"original_title"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"original_title",hash:{},data:o,loc:{start:{line:52,column:43},end:{line:52,column:61}}}):c)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item'>"+(null!=(i=p(t,"each").call(s,null!=l?p(l,"genres"):l,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:56,column:43},end:{line:57,column:19}}}))?i:"")+"</li>\n      </ul>\n\n    </div>\n    <p class='modal__about'>ABOUT</p>\n    <p class='modal__about-text'>"+m((void 0===(c=null!=(c=p(t,"overview")||(null!=l?p(l,"overview"):l))?c:u)?"undefined":n(r)(c))===d?c.call(s,{name:"overview",hash:{},data:o,loc:{start:{line:62,column:33},end:{line:62,column:45}}}):c)+"</p>\n    <div class='modal__buttons'>\n      <button class='modal__button-watched' type='submit'>REMOVE FROM WATCHED</button>\n      <button class='modal__button-queue' type='submit'>REMOVE FROM QUEUE</button></div>\n  </div>\n\n\n</div>\n<div class='modal__backside'>\n  <button type='button' class='modal__button-backtoinfo'>Back to movie info\n    <svg\n      width='20'\n      height='20'\n      version='1.1'\n      id='Layer_1'\n      xmlns='http://www.w3.org/2000/svg'\n      xmlns:xlink='http://www.w3.org/1999/xlink'\n      x='0px'\n      y='0px'\n      viewBox='0 0 499.2 499.2'\n      style='enable-background:new 0 0 499.2 499.2;'\n      xml:space='preserve'\n    >\n      <path\n        style='fill:#4F0404;'\n        d='M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z'\n      ></path>\n      <path\n        style='fill:#C42014;'\n        d='M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z'\n      ></path>\n      <polygon\n        style='fill:#EA2D28;'\n        points='123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 '\n      ></polygon>\n      <polyline\n        style='fill:#C42014;'\n        points='1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 '\n      ></polyline>\n    </svg>\n  </button>\n  <iframe\n    width='100%'\n    height='100%'\n    src='https://www.youtube.com/embed/Zq_zgig9DqQ'\n    title='YouTube video player'\n    frameborder='0'\n    allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\n    allowfullscreen\n  ></iframe>\n</div>"},useData:!0})),d=a("cWPZ2"),m=a("gEOaa"),p=a("ilAHm"),v=document.querySelector(".library-gallery"),_=document.querySelector(".js-queue"),h=document.querySelector(".js-watched"),f=document.querySelector(".library-text");_.addEventListener("click",(function(n){n.preventDefault(),_.classList.add("button--accent"),h.classList.remove("button--accent"),E(L)})),h.addEventListener("click",(function(n){n.preventDefault(),h.classList.add("button--accent"),_.classList.remove("button--accent"),E(x)}));var g,y,b,w,k=[],x="watched",L="queue";function E(n){(v.innerHTML="",f.classList.remove("is-hidden"),(k=d.localStorageAPI.load(n)).length<1)||(k[0].genres.length>1&&k.map((function(n){n.genres.splice(1),n.vote_average=Number(n.vote_average.toFixed(1))})),(g=(0,m.dataToYear)(k)).length>=1&&f.classList.add("is-hidden"),console.log(g),v.innerHTML=s(g),document.querySelector(".film-list").addEventListener("click",O))}function O(n){return M.apply(this,arguments)}function M(){return(M=n(o)(n(i).mark((function e(l){var t,a;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.preventDefault(),"IMG"===l.target.nodeName){n.next=3;break}return n.abrupt("return");case 3:return y=l.target.dataset.id,n.next=6,q(y);case 6:t=n.sent,instance=c.create(u(t),{onShow:function(n){},onClose:function(n){a.classList.remove("modal-open")}}),instance.show(),constBtnCloseModal=document.querySelector(".modal_button-close"),constBtnCloseModal.addEventListener("click",(function(){return instance.close()})),(a=document.querySelector("body")).classList.add("modal-open"),document.querySelector(".basicLightbox").classList.add("film-box"),b=document.querySelector(".modal__button-watched"),w=document.querySelector(".modal__button-queue"),b.classList.add("button-accent"),_.classList.contains("button--accent")&&(w.classList.add("button-accent"),b.classList.remove("button-accent")),b.addEventListener("click",S),w.addEventListener("click",C);case 21:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function q(n){return P.apply(this,arguments)}function P(){return(P=n(o)(n(i).mark((function e(l){var t,a;return n(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(p.ID_URL,"/").concat(l,"?api_key=").concat(p.API_KEY,"&language=en-US"));case 3:return t=n.sent,n.next=6,t.json();case 6:return(a=n.sent).vote_average=Number(a.vote_average.toFixed(1)),a.popularity=Number(a.popularity.toFixed(1)),n.abrupt("return",a);case 12:n.prev=12,n.t0=n.catch(0);case 14:case"end":return n.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function S(n){if(n.preventDefault(),"modal__button-watched button-accent"===n.target.className)return D(x),void b.classList.remove("button-accent")}function C(n){if(n.preventDefault(),"modal__button-queue button-accent"===n.target.className)return D(L),void w.classList.remove("button-accent")}function D(n){instance.close(),normalist=d.localStorageAPI.load(n);var e=normalist;normalist.forEach((function(l,t){if(l.id==y){e.splice(t,1),localStorage.removeItem(n);var a=JSON.stringify(e);return localStorage.setItem(n,a),void E(n)}}))}E(x),a("7CGty")}();
//# sourceMappingURL=library.4959cea9.js.map
