{"mappings":"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","sources":["src/library.js","src/js/library-page.js","src/js/templates/markupLibraryPage.hbs","src/js/templates/markupModalLibrary.hbs"],"sourcesContent":["import './js/theme-switcher';\nimport './js/modal-students';\nimport './js/library-page';\nimport './js/favotire-movie';\n\n","import * as basicLightbox from 'basiclightbox';\n\nimport markupLibraryPage from './templates/markupLibraryPage.hbs';\nimport markupModal from './templates/markupModalLibrary.hbs';\nimport { localStorageAPI } from './api/localStorageAPI';\nimport { dataToYear } from './data/data-revize';\nimport { ID_URL, API_KEY } from './api/api-parts';\n\nconst libraryGallery = document.querySelector('.library-gallery');\nconst btnQueue = document.querySelector('.js-queue');\nconst btnWatched = document.querySelector('.js-watched');\nconst libraryTitle = document.querySelector('.library-text');\n\nbtnQueue.addEventListener('click', onClickQueue);\nbtnWatched.addEventListener('click', onClickWatched);\n\nlet listFilms = [];\nlet normalListFilms;\nlet movieId;\nconst KEY_WATCHED = 'watched';\nconst KEY_QUEUE = 'queue';\nlet modalBtnWatched;\nlet modalBtnQueue;\nlet instance;\n//_________________________________________________________default markup is WATCHED\nmarkupLibrary(KEY_WATCHED);\n\n//_________________________________________________________render page MY LIBRARY\nfunction markupLibrary(key) {\n  libraryGallery.innerHTML = '';\n  libraryTitle.classList.remove('is-hidden');\n  listFilms = localStorageAPI.load(key);\n  if (listFilms.length < 1) {\n    return;\n  }\n  if (listFilms[0].genres.length > 1) {\n    listFilms.map(obj => {\n      obj.genres.splice(1);\n      obj.vote_average = Number(obj.vote_average.toFixed(1));\n    });\n  }\n  normalListFilms = dataToYear(listFilms);\n  if (normalListFilms.length >= 1) {\n    libraryTitle.classList.add('is-hidden');\n  }\n  libraryGallery.innerHTML = markupLibraryPage(normalListFilms);\n\n  const filmCard = document.querySelector('.film-list');\n  filmCard.addEventListener('click', clickOnMovie);\n}\n\n//____________________________________________click btn QUEUE\nfunction onClickQueue(e) {\n  e.preventDefault();\n  btnQueue.classList.add('button--accent');\n  btnWatched.classList.remove('button--accent');\n  markupLibrary(KEY_QUEUE);\n}\n\n//____________________________________________click btn WATCHED\nfunction onClickWatched(e) {\n  e.preventDefault();\n  btnWatched.classList.add('button--accent');\n  btnQueue.classList.remove('button--accent');\n  markupLibrary(KEY_WATCHED);\n}\n\n//____________________________________________click by movie card(modal)\nasync function clickOnMovie(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  movieId = evt.target.dataset.id;\n  const resp = await apiModalDetails(movieId);\n\n  instance = basicLightbox.create(markupModal(resp), {\n    onShow: instance => {},\n    onClose: instance => {\n      body.classList.remove('modal-open');\n    },\n  });\n  instance.show();\n  constBtnCloseModal = document.querySelector('.modal_button-close');\n  constBtnCloseModal.addEventListener('click', () => instance.close());\n\n  const body = document.querySelector('body');\n  body.classList.add('modal-open');\n\n  const light = document.querySelector('.basicLightbox');\n  light.classList.add('film-box');\n\n  modalBtnWatched = document.querySelector('.modal__button-watched');\n  modalBtnQueue = document.querySelector('.modal__button-queue');\n  modalBtnWatched.classList.add('button-accent');\n  if (btnQueue.classList.contains('button--accent')) {\n    modalBtnQueue.classList.add('button-accent');\n    modalBtnWatched.classList.remove('button-accent');\n  }\n\n  modalBtnWatched.addEventListener('click', removeWatched);\n  modalBtnQueue.addEventListener('click', removeQueue);\n}\n//____________________________________________________fetch data for render movie card(modal)\nasync function apiModalDetails(movieId) {\n  try {\n    const responce = await fetch(\n      `${ID_URL}/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    const resp = await responce.json();\n    resp.vote_average = Number(resp.vote_average.toFixed(1));\n    resp.popularity = Number(resp.popularity.toFixed(1));\n    return resp;\n  } catch (Error) {}\n}\n\n//____________________________________________________remove movie from Watched list\nfunction removeWatched(e) {\n  e.preventDefault();\n  if (e.target.className === 'modal__button-watched button-accent') {\n    deleteMovie(KEY_WATCHED);\n    modalBtnWatched.classList.remove('button-accent');\n    return;\n  }\n  return;\n}\n//____________________________________________________remove movie from Queue list\nfunction removeQueue(e) {\n  e.preventDefault();\n  if (e.target.className === 'modal__button-queue button-accent') {\n    deleteMovie(KEY_QUEUE);\n    modalBtnQueue.classList.remove('button-accent');\n    return;\n  }\n  return;\n}\n//____________________________________________________remove movie from localStorage\nfunction deleteMovie(key) {\n  instance.close();\n  normalist = localStorageAPI.load(key);\n  const renderList = normalist;\n  normalist.forEach((obj, index) => {\n    if (obj.id == movieId) {\n      renderList.splice(index, 1);\n\n      localStorage.removeItem(key);\n      const data = JSON.stringify(renderList);\n      localStorage.setItem(key, data);\n      markupLibrary(key);\n      return;\n    }\n    return;\n  });\n}\n","{{#each this}}\n  <li class='list-card__item film-card'>\n    <div class='film-card__thumb'>\n      {{!-- <button\n        class='button__trailer'\n        aria-label='watch the trailer'\n        data-id='{{id}}'\n      >Trailer</button> --}}\n\n      {{#if poster_path}}\n        <img\n          src='https://image.tmdb.org/t/p/w400{{poster_path}}'\n          alt='{{original_title}}'\n          loading='lazy'\n          data-id='{{id}}'\n        />\n      {{else}}\n        <img\n          src='https://sd.keepcalms.com/i/keep-calm-poster-not-found.png'\n          alt='poster not found'\n          class='lazyload'\n        />\n      {{/if}}\n    </div>\n    <h2 class='film-card__title' data-id='{{id}}'>{{original_title}}</h2>\n    <div class='film-card__description'>\n      <ul>\n        {{#each genres}}\n          <li>{{this.name}}</li>\n        {{/each}}\n      </ul>\n      <p class='film-card__year'>{{year}}</p>\n      <div class='library__card-rating'>{{vote_average}}</div>\n    </div>\n  </li>\n{{/each}}","\n<div class='modal'>\n  <button type='button' class='modal_button-close'>\n   <svg class='modal-close__svg' width='30' height='30' viewBox='0 0 30 30'>\n      <path\n        class='modal-close__svg__path'\n        d='M8 8L22 22'\n        stroke='black'\n        stroke-width='2'\n      ></path>\n      <path\n        class='modal-close__svg__path'\n        d='M8 22L22 8'\n        stroke='black'\n        stroke-width='2'\n      ></path>\n    </svg>\n</button>\n  <div class='modal__img'>\n    {{! <button type=\"button\" class=\"modal__button-rotate\"><svg width=\"30\" height=\"30\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t viewBox=\"0 0 461.001 461.001\" style=\"enable-background:new 0 0 461.001 461.001;\" xml:space=\"preserve\">\n<g>\n\t<path style=\"fill:#F61C0D;\" d=\"M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728\n\t\tc0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137\n\t\tC461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607\n\t\tc0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z\"/>\n</g>\n</svg> Watch trailer</button> }}\n    <img\n      class='modal__poster'\n      src='https://image.tmdb.org/t/p/w500{{poster_path}}'\n      alt={{original_title}}\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title'>{{original_title}}</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item'><span\n            class='modal__list-vote'\n          >{{vote_average}}</span>\n          /\n          <span class='modal__list-value-item'>{{vote_count}}</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item'>{{popularity}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item'>{{original_title}}</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item'>{{#each genres}}{{this.name}}\n          {{/each}}</li>\n      </ul>\n\n    </div>\n    <p class='modal__about'>ABOUT</p>\n    <p class='modal__about-text'>{{overview}}</p>\n    <div class='modal__buttons'>\n      <button class='modal__button-watched' type='submit'>REMOVE FROM WATCHED</button>\n      <button class='modal__button-queue' type='submit'>REMOVE FROM QUEUE</button></div>\n  </div>\n\n  {{! <button type='button' class='modal_button-close'>close</button> }}\n\n</div>\n<div class='modal__backside'>\n  <button type='button' class='modal__button-backtoinfo'>Back to movie info\n    <svg\n      width='20'\n      height='20'\n      version='1.1'\n      id='Layer_1'\n      xmlns='http://www.w3.org/2000/svg'\n      xmlns:xlink='http://www.w3.org/1999/xlink'\n      x='0px'\n      y='0px'\n      viewBox='0 0 499.2 499.2'\n      style='enable-background:new 0 0 499.2 499.2;'\n      xml:space='preserve'\n    >\n      <path\n        style='fill:#4F0404;'\n        d='M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z'\n      ></path>\n      <path\n        style='fill:#C42014;'\n        d='M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z'\n      ></path>\n      <polygon\n        style='fill:#EA2D28;'\n        points='123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 '\n      ></polygon>\n      <polyline\n        style='fill:#C42014;'\n        points='1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 '\n      ></polyline>\n    </svg>\n  </button>\n  <iframe\n    width='100%'\n    height='100%'\n    src='https://www.youtube.com/embed/Zq_zgig9DqQ'\n    title='YouTube video player'\n    frameborder='0'\n    allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'\n    allowfullscreen\n  ></iframe>\n</div>"],"names":["parcelRequire","$bpxeT","$l5bVx","$69a9a16b2d891665$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","fn","program","inverse","loc","start","line","column","end","noop","lambda","compiler","main","useData","$18d5ac7467e18521$export$2e2bcd8739ae039","$20cb4a85f74a13e4$var$libraryGallery","document","querySelector","$20cb4a85f74a13e4$var$btnQueue","$20cb4a85f74a13e4$var$btnWatched","$20cb4a85f74a13e4$var$libraryTitle","addEventListener","e","preventDefault","classList","add","remove","$20cb4a85f74a13e4$var$markupLibrary","$20cb4a85f74a13e4$var$KEY_QUEUE","$20cb4a85f74a13e4$var$KEY_WATCHED","$20cb4a85f74a13e4$var$normalListFilms","$20cb4a85f74a13e4$var$movieId","$20cb4a85f74a13e4$var$modalBtnWatched","$20cb4a85f74a13e4$var$modalBtnQueue","$20cb4a85f74a13e4$var$instance","$20cb4a85f74a13e4$var$listFilms","key","innerHTML","$cWPZ2","localStorageAPI","load","length","genres","map","obj","splice","vote_average","Number","toFixed","$gEOaa","dataToYear","$20cb4a85f74a13e4$var$clickOnMovie","evt","$20cb4a85f74a13e4$var$_clickOnMovie","apply","this","arguments","$2TvXO","mark","_callee","resp","body","target","nodeName","dataset","id","$20cb4a85f74a13e4$var$apiModalDetails","_ctx","sent","$dyT35","create","onShow","instance","onClose","show","constBtnCloseModal","close","contains","$20cb4a85f74a13e4$var$removeWatched","$20cb4a85f74a13e4$var$removeQueue","movieId1","$20cb4a85f74a13e4$var$_apiModalDetails","responce","fetch","concat","$ilAHm","ID_URL","API_KEY","json","popularity","className","$20cb4a85f74a13e4$var$deleteMovie","normalist","renderList","forEach","index","localStorage","removeItem","JSON","stringify","setItem"],"version":3,"file":"library.e7044424.js.map"}