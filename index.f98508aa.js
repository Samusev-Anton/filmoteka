!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){l[e]=n},n.parcelRequired7c6=a);var o=a("l5bVx"),r=e(a("WMajR")).template({1:function(n,t,l,a,r){var i,s,c=null!=t?t:n.nullContext||{},u=n.hooks.helperMissing,d="function",m=n.escapeExpression,p=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <li class='list-card__item film-card'>\n    <div class='film-card__thumb'>\n\n      <button\n        class='button__trailer'\n        aria-label='watch the trailer'\n        data-id='"+m((void 0===(s=null!=(s=p(l,"id")||(null!=t?p(t,"id"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"id",hash:{},data:r,loc:{start:{line:8,column:17},end:{line:8,column:23}}}):s)+"'\n      >Trailer</button>\n\n"+(null!=(i=p(l,"if").call(c,null!=t?p(t,"poster_path"):t,{name:"if",hash:{},fn:n.program(2,r,0),inverse:n.program(4,r,0),data:r,loc:{start:{line:11,column:6},end:{line:24,column:13}}}))?i:"")+"    </div>\n    <h2 class='film-card__title' data-id='"+m((void 0===(s=null!=(s=p(l,"id")||(null!=t?p(t,"id"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"id",hash:{},data:r,loc:{start:{line:26,column:42},end:{line:26,column:48}}}):s)+"'>"+m((void 0===(s=null!=(s=p(l,"original_title")||(null!=t?p(t,"original_title"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"original_title",hash:{},data:r,loc:{start:{line:26,column:50},end:{line:26,column:68}}}):s)+"</h2>\n    <div class='film-card__description'>\n      <ul>\n"+(null!=(i=p(l,"each").call(c,null!=t?p(t,"genres"):t,{name:"each",hash:{},fn:n.program(6,r,0),inverse:n.noop,data:r,loc:{start:{line:29,column:8},end:{line:31,column:17}}}))?i:"")+"      </ul>\n      <p class='film-card__year'>"+m((void 0===(s=null!=(s=p(l,"year")||(null!=t?p(t,"year"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"year",hash:{},data:r,loc:{start:{line:33,column:33},end:{line:33,column:41}}}):s)+"</p>\n      <p class='film-card__rating visually-hidden'>"+m((void 0===(s=null!=(s=p(l,"vote_average")||(null!=t?p(t,"vote_average"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"vote_average",hash:{},data:r,loc:{start:{line:34,column:51},end:{line:34,column:67}}}):s)+"</p>\n    </div>\n  </li>\n"},2:function(n,t,l,a,r){var i,s=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,u="function",d=n.escapeExpression,m=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"        <img\n          src='https://image.tmdb.org/t/p/w400"+d((void 0===(i=null!=(i=m(l,"poster_path")||(null!=t?m(t,"poster_path"):t))?i:c)?"undefined":e(o)(i))===u?i.call(s,{name:"poster_path",hash:{},data:r,loc:{start:{line:13,column:46},end:{line:13,column:61}}}):i)+"'\n          alt='"+d((void 0===(i=null!=(i=m(l,"original_title")||(null!=t?m(t,"original_title"):t))?i:c)?"undefined":e(o)(i))===u?i.call(s,{name:"original_title",hash:{},data:r,loc:{start:{line:14,column:15},end:{line:14,column:33}}}):i)+"'\n          loading='lazy'\n          data-id='"+d((void 0===(i=null!=(i=m(l,"id")||(null!=t?m(t,"id"):t))?i:c)?"undefined":e(o)(i))===u?i.call(s,{name:"id",hash:{},data:r,loc:{start:{line:16,column:19},end:{line:16,column:25}}}):i)+"'\n        />\n"},4:function(e,n,t,l,a){return"        <img\n          src='https://sd.keepcalms.com/i/keep-calm-poster-not-found.png'\n          alt='poster not found'\n          class='lazyload'\n        />\n"},6:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"          <li>"+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:37,column:9}}}))?o:""},useData:!0}),i=a("bpxeT"),s=a("2TvXO"),c="27a76f0869afd59eafccef7d6d986c20",u="https://api.themoviedb.org/3",d="".concat(u,"/trending/movie/week"),m="".concat(u,"/search/movie"),p="".concat(u,"/movie/"),f=a("4Nugj"),v=a("gEOaa"),h=a("cWPZ2"),g="";f.refs.form.addEventListener("submit",(function(e){_.classList.remove("done"),e.preventDefault(),(g=e.target.elements.serch_film.value.trim().toLowerCase()).length<1||""===g?(f.refs.divError.classList.remove("visually-hidden"),f.refs.homeGallery.classList.add("visually-hidden"),f.refs.filterForm.classList.add("visually-hidden"),_.classList.add("done"),f.refs.form.reset(),h.localStorageAPI.save("query-pg",g)):x(g).then((function(e){f.refs.form.reset(),f.refs.divError.classList.add("visually-hidden"),f.refs.homeGallery.classList.remove("visually-hidden"),f.refs.filterForm.classList.remove("visually-hidden");var n=(0,v.getGenres)(),t=e.results,l=(0,v.dataRevize)(t,n);f.refs.homeGallery.innerHTML=r(l),h.localStorageAPI.save("query-pg",g),_.classList.add("done")}))}));var _=document.querySelector(".preloader"),y=document.querySelector(".to_main__link");y&&y.addEventListener("click",(function(e){_.classList.remove("done"),page=1,h.localStorageAPI.save("page-pg",page)})),f.refs.logo.addEventListener("click",(function(e){_.classList.remove("done"),amountOfPages=1e3,page=1,genre="",year="",query="",sort="",h.localStorageAPI.save("page-pg",page),h.localStorageAPI.save("genre-pg",genre),h.localStorageAPI.save("year-pg",year),h.localStorageAPI.save("total-pages",amountOfPages),h.localStorageAPI.save("query-pg",query),h.localStorageAPI.save("sort-pg",sort)})),f.refs.home.addEventListener("click",(function(e){_.classList.remove("done")}));var b=0;function w(){return(w=e(i)(e(s).mark((function n(){var t,l;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(d,"?api_key=").concat(c,"&page=").concat(1));case 3:return t=e.sent,e.next=6,t.json();case 6:return l=e.sent,b=l.total_pages,e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function x(e){return L.apply(this,arguments)}function L(){return(L=e(i)(e(s).mark((function n(t){var l,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"?api_key=").concat(c,"&query=").concat(t,"&language=en-US&page=1&include_adult=false&page=").concat(1));case 3:return l=e.sent,e.next=6,l.json();case 6:return a=e.sent,b=a.total_pages,console.log(b),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function k(e){return E.apply(this,arguments)}function E(){return(E=e(i)(e(s).mark((function n(t){var l,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t,"?api_key=").concat(c,"&language=en-US"));case 3:return l=e.sent,e.next=6,l.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return(S=e(i)(e(s).mark((function n(t){var l,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t,"/videos?api_key=").concat(c,"&language=en-US"));case 3:return l=e.sent,e.next=6,l.json();case 6:return a=e.sent,console.log("resp :>> ",a.results[0].key),e.abrupt("return",a.results[0].key);case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}f=a("4Nugj"),v=a("gEOaa");(function(){return w.apply(this,arguments)})().then((function(e){var n=(0,v.getGenres)(),t=e.results,l=(0,v.dataRevize)(t,n);console.log(l),f.refs.homeGallery.innerHTML=r(l)}));i=a("bpxeT"),s=a("2TvXO"),o=a("l5bVx");var O=e(a("WMajR")).template({1:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+"\n          "},compiler:[8,">= 4.3.0"],main:function(n,t,l,a,r){var i,s,c=null!=t?t:n.nullContext||{},u=n.hooks.helperMissing,d="function",m=n.escapeExpression,p=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class=\'modal\'>\n  <div class=\'modal__img\'><button type="button" class="modal__button-rotate"><svg width="30" height="30" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 461.001 461.001" style="enable-background:new 0 0 461.001 461.001;" xml:space="preserve">\n<g>\n\t<path style="fill:#F61C0D;" d="M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728\n\t\tc0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137\n\t\tC461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607\n\t\tc0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z"/>\n</g>\n</svg> Watch trailer</button><img\n      class=\'modal__poster\'\n      src=\'https://image.tmdb.org/t/p/w500'+m((void 0===(s=null!=(s=p(l,"poster_path")||(null!=t?p(t,"poster_path"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"poster_path",hash:{},data:r,loc:{start:{line:12,column:42},end:{line:12,column:57}}}):s)+"'\n      alt="+m((void 0===(s=null!=(s=p(l,"original_title")||(null!=t?p(t,"original_title"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"original_title",hash:{},data:r,loc:{start:{line:13,column:10},end:{line:13,column:28}}}):s)+"\n      loading='lazy'\n    /></div>\n  <div class='modal__content'><h2 class='modal__title'>"+m((void 0===(s=null!=(s=p(l,"original_title")||(null!=t?p(t,"original_title"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"original_title",hash:{},data:r,loc:{start:{line:16,column:55},end:{line:16,column:73}}}):s)+"</h2>\n    <div class='modal__info'>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Vote / Votes</li>\n        <li class='modal__list-value-item'><span\n            class='modal__list-vote'\n          >"+m((void 0===(s=null!=(s=p(l,"vote_average")||(null!=t?p(t,"vote_average"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"vote_average",hash:{},data:r,loc:{start:{line:22,column:11},end:{line:22,column:27}}}):s)+"</span>\n          /\n          <span class='modal__list-value-item'>"+m((void 0===(s=null!=(s=p(l,"vote_count")||(null!=t?p(t,"vote_count"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"vote_count",hash:{},data:r,loc:{start:{line:24,column:47},end:{line:24,column:61}}}):s)+"</span>\n        </li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Popularity</li>\n        <li class='modal__list-value-item'>"+m((void 0===(s=null!=(s=p(l,"popularity")||(null!=t?p(t,"popularity"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"popularity",hash:{},data:r,loc:{start:{line:29,column:43},end:{line:29,column:57}}}):s)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Original Title</li>\n        <li class='modal__list-value-item'>"+m((void 0===(s=null!=(s=p(l,"original_title")||(null!=t?p(t,"original_title"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"original_title",hash:{},data:r,loc:{start:{line:33,column:43},end:{line:33,column:61}}}):s)+"</li>\n      </ul>\n      <ul class='modal__list-key'>\n        <li class='modal__list-key-item'>Genre</li>\n        <li class='modal__list-value-item'>"+(null!=(i=p(l,"each").call(c,null!=t?p(t,"genres"):t,{name:"each",hash:{},fn:n.program(1,r,0),inverse:n.noop,data:r,loc:{start:{line:37,column:43},end:{line:38,column:19}}}))?i:"")+"</li>\n      </ul>\n\n    </div>\n    <p class='modal__about'>ABOUT</p>\n    <p class='modal__about-text'>"+m((void 0===(s=null!=(s=p(l,"overview")||(null!=t?p(t,"overview"):t))?s:u)?"undefined":e(o)(s))===d?s.call(c,{name:"overview",hash:{},data:r,loc:{start:{line:43,column:33},end:{line:43,column:45}}}):s)+'</p>\n    <div class=\'modal__buttons\'>\n      <button class=\'modal__button--watched\' type=\'submit\'>ADD TO WATCHED</button>\n      <button class=\'modal__button--queue\' type=\'submit\'>ADD TO QUEUE</button></div>\n  </div>\n \n  <button type=\'button\' class=\'modal__button-close\'></button>\n  \n  \n</div>\n <div class="modal__backside">\n    <button type="button" class="modal__button-backtoinfo">Back to movie info\n<svg width="20" height="20" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 499.2 499.2" style="enable-background:new 0 0 499.2 499.2;" xml:space="preserve">\n<path style="fill:#4F0404;" d="M489.6,229.6c-10.4,20.8-29.6,37.6-52.8,44c19.2,45.6,21.6,96.8,2.4,142.4c34.4-11.2,60-43.2,60-81.6\n\tv-68.8C499.2,253.6,495.2,241.6,489.6,229.6z"/>\n<path style="fill:#C42014;" d="M413.6,177.6h-228c-47.2,0-86.4,38.4-86.4,85.6v58.4h232l0,0h82.4c33.6,0,64,20.8,77.6,49.6\n\tc6.4-14.4,8-25.6,8-39.2v-68.8C499.2,216,460.8,177.6,413.6,177.6z"/>\n<polygon style="fill:#EA2D28;" points="123.2,249.6 219.2,153.6 219.2,30.4 0,249.6 219.2,468.8 219.2,345.6 "/>\n<polyline style="fill:#C42014;" points="1.6,249.6 219.2,468.8 219.2,345.6 124.8,249.6 219.2,153.6 "/>\n</svg>\n</button>\n    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Zq_zgig9DqQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n  </div>'},useData:!0}),q=(f=a("4Nugj"),a("iU1Pc")),C=(h=a("cWPZ2"),[]),T=[];function A(e,n){var t=localStorage.getItem(e);T.includes(n)?q.Notify.failure("we have alredy added that movie"):null===t?(T.push(n),h.localStorageAPI.save(e,T)):((T=JSON.parse(t)).push(n),h.localStorageAPI.save(e,T))}var M;document.querySelector(".list-card__item");function N(){return(N=e(i)(e(s).mark((function n(t){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"IMG"===t.target.nodeName||"H2"===t.target.nodeName){e.next=3;break}return e.abrupt("return");case 3:k(t.target.dataset.id).then((function(e){M=e,f.refs.filmBox.innerHTML=O(e),D()}));case 5:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function D(){var e=document.querySelector(".modal__button-close"),n=document.querySelector(".modal__button-rotate");document.querySelector(".modal__button-backtoinfo").addEventListener("click",I),n.addEventListener("click",j),document.body.addEventListener("keydown",z),document.body.classList.add("modal-open"),f.refs.filmBox.classList.remove("visually-hidden"),document.body.addEventListener("click",G),e.addEventListener("click",U)}function I(){var e=document.querySelector(".modal"),n=document.querySelector(".modal__backside");e.classList.remove("rotated"),n.classList.remove("rotated360")}function j(){var e=document.querySelector(".modal"),n=document.querySelector(".modal__backside");e.classList.add("rotated"),n.classList.add("rotated360")}function U(){document.body.classList.remove("modal-open"),f.refs.filmBox.classList.add("visually-hidden"),document.body.removeEventListener("click",G),document.body.removeEventListener("keydown",z)}function z(e){"Escape"===e.code&&U()}function G(e){var n,t,l;"modal__button--watched"===e.target.className&&(n="watched",t=M,l=localStorage.getItem(n),C.includes(t)?q.Notify.failure("we have alredy added that movie"):null===l?(C.push(t),h.localStorageAPI.save(n,C)):((C=JSON.parse(l)).push(t),h.localStorageAPI.save(n,C)),U()),"modal__button--queue"===e.target.className&&(A("queue",M),U()),e.target===f.refs.filmBox&&U()}f.refs.homeGallery.addEventListener("click",(function(e){return N.apply(this,arguments)})),a("2Z7mb"),a("ivF4K");var F={};F=function e(n,t,l){function a(r,i){if(!t[r]){if(!n[r]){var s=void 0;if(!i&&s)return s(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[r]={exports:{}};n[r][0].call(u.exports,(function(e){return a(n[r][1][e]||e)}),u,u.exports,e,n,t,l)}return t[r].exports}for(var o=void 0,r=0;r<l.length;r++)a(l[r]);return a}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.visible=void 0;var l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement("div");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},a=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},o=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};t.visible=o,t.create=function(e,n){var t=function(e,n){var t=l('\n\t\t<div class="basicLightbox '.concat(n.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),o=t.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return o.appendChild(e)}));var r=a(o,"IMG"),i=a(o,"VIDEO"),s=a(o,"IFRAME");return!0===r&&t.classList.add("basicLightbox--img"),!0===i&&t.classList.add("basicLightbox--video"),!0===s&&t.classList.add("basicLightbox--iframe"),t}(e=function(e){var n="string"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error("Content must be a DOM element/node or string");return!0===n?Array.from(l(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(n)),r=function(e){return!1!==n.onClose(i)&&function(e,n){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===o(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if("function"==typeof e)return e(i)}))};!0===n.closable&&t.addEventListener("click",(function(e){e.target===t&&r()}));var i={element:function(){return t},visible:function(){return o(t)},show:function(e){return!1!==n.onShow(i)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),n()}))}),10),!0}(t,(function(){if("function"==typeof e)return e(i)}))},close:r};return i}},{}]},{},[1])(1),document.addEventListener("click",(function(e){var n=e.target;if(n.classList.contains("button__trailer")||n.classList.contains("modal__button--trailer")){var t=n.dataset.id;console.log("movieID :>> ",t),P(t).then((function(e){var n;n=e,F.create("\n    <iframe src='https://www.youtube.com/embed/".concat(n,'\' width="640" height="480" frameborder="0" allowfullscreen origin></iframe>\n')).show()}))}}))}();
//# sourceMappingURL=index.f98508aa.js.map
