{"mappings":"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","sources":["src/library.js","src/js/templates/markupLibraryPage.hbs","src/js/library-page.js"],"sourcesContent":["import './js/theme-switcher';\nimport './js/modal-students';\nimport './js/library-page';\n\n\n","{{#each this}}\n  <li class='list-card__item film-card'>\n    <div class='film-card__thumb'>\n      {{!-- <button\n        class='button__trailer'\n        aria-label='watch the trailer'\n        data-id='{{id}}'\n      >Trailer</button> --}}\n\n      {{#if poster_path}}\n        <img\n          src='https://image.tmdb.org/t/p/w400{{poster_path}}'\n          alt='{{original_title}}'\n          loading='lazy'\n          data-id='{{id}}'\n        />\n      {{else}}\n        <img\n          src='https://sd.keepcalms.com/i/keep-calm-poster-not-found.png'\n          alt='poster not found'\n          class='lazyload'\n        />\n      {{/if}}\n    </div>\n    <h2 class='film-card__title' data-id='{{id}}'>{{original_title}}</h2>\n    <div class='film-card__description'>\n      <ul>\n        {{#each genres}}\n          <li>{{this.name}}</li>\n        {{/each}}\n      </ul>\n      <p class='film-card__year'>{{year}}</p>\n      <div class='library__card-rating'>{{vote_average}}</div>\n    </div>\n  </li>\n{{/each}}","import markupLibraryPage from './templates/markupLibraryPage.hbs';\nimport { localStorageAPI } from './api/localStorageAPI';\nimport { dataToYear } from './data/data-revize';\n\nconst libraryGallery = document.querySelector('.library-gallery');\nconst btnQueue = document.querySelector('.js-queue');\nconst btnWatched = document.querySelector('.js-watched');\nconst libraryTitle = document.querySelector('.library-text');\nlet movieTitle;\n\nbtnQueue.addEventListener('click', onClickQueue);\nbtnWatched.addEventListener('click', onClickWatched);\n\nfunction onClickQueue() {\n  btnWatched.classList.remove('button--accent');\n  markupLibrary('queue');\n}\nfunction onClickWatched() {\n  markupLibrary('watched');\n}\nlet listFilms;\nmarkupLibrary('watched');\nmovieTitle = document.querySelector('.film-card__title');\nfunction markupLibrary(key) {\n  libraryGallery.innerHTML = '';\n  listFilms = localStorageAPI.load(key);\n  if (listFilms === undefined) {\n    return;\n  }\n  listFilms.map(obj => {\n    obj.genres.splice(1);\n    obj.vote_average = Number(obj.vote_average.toFixed(1));\n    return obj;\n  });\n  const normalListFilms = dataToYear(listFilms);\n\n  const arrId = {};\n  normalListFilms.forEach(obj => {\n    arrId[obj.id] = obj;\n  });\n\n  const renderArr = Object.values(arrId);\n  if (renderArr.length >= 1) {\n    libraryTitle.classList.add('is-hidden');\n  }\n\n  libraryGallery.innerHTML = markupLibraryPage(renderArr);\n}\n"],"names":["parcelRequire","$20cb4a85f74a13e4$var$listFilms","$l5bVx","$69a9a16b2d891665$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","fn","program","inverse","loc","start","line","column","end","noop","lambda","compiler","main","useData","$20cb4a85f74a13e4$var$libraryGallery","document","querySelector","$20cb4a85f74a13e4$var$btnQueue","$20cb4a85f74a13e4$var$btnWatched","$20cb4a85f74a13e4$var$libraryTitle","$20cb4a85f74a13e4$var$markupLibrary","key","innerHTML","undefined","$cWPZ2","localStorageAPI","load","map","obj","genres","splice","vote_average","Number","toFixed","normalListFilms","$gEOaa","dataToYear","arrId","forEach","id","renderArr","values","length","classList","add","addEventListener","remove"],"version":3,"file":"library.32f9d83c.js.map"}